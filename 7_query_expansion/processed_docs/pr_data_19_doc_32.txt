Pull Request Number: 1693
Title: feat: slider steps
Base Branch: feat/slider
Head Branch: feat/slider-steps
Author: jguddas
URL: https://github.com/nextui-org/nextui/pull/1693
State: MERGED
Created At: 2023-09-25T17:58:03Z
Merged At: 2023-09-27T14:38:42Z
Participants: jguddas, jrgarciadev

Description:
Closes # 
üìù Description

Add a brief description

‚õ≥Ô∏è Current behavior (updates)

Please describe the current behavior that you are modifying

üöÄ New behavior

Please describe the behavior or changes this PR adds

üí£ Is this a breaking change (Yes/No):

üìù Additional Information

Commits:
- feat: slider steps\n- refactor: renamed variables\n- feat: improved slider step styling\n- fix: hide infinite steps\n- fix: fixed step transparency issue\n- Update packages/components/slider/src/use-slider.ts

Co-authored-by: Junior Garcia <jrgarciadev@gmail.com>\n

Labels:


Comments:
- vercel: [vc]: #Q4hmnapR2GqR3+hOSFHqb0LU63c4IBMACvt/lKFEHxU=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi9pQzJKZ3NDODVxN2h6MWdGVDZBSDFhM1ZXTHNSIiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1mZWF0LXNsaWRlci1zdGVwcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLWRvY3MtdjItZ2l0LWZlYXQtc2xpZGVyLXN0ZXBzLW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9fSx7Im5hbWUiOiJuZXh0dWktc3Rvcnlib29rLXYyIiwicm9vdERpcmVjdG9yeSI6InBhY2thZ2VzL3N0b3J5Ym9vayIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9uZXh0dWktb3JnL25leHR1aS1zdG9yeWJvb2stdjIvQXpzMm9FZFRHa2E5V1B3VnZTS1VDNnVlYXdzViIsInByZXZpZXdVcmwiOiJuZXh0dWktc3Rvcnlib29rLXYyLWdpdC1mZWF0LXNsaWRlci1zdGVwcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZmVhdC1zbGlkZXItc3RlcHMtbmV4dHVpLW9yZy52ZXJjZWwuYXBwIn19XX0=
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/iC2JgsC85q7hz1gFT6AH1a3VWLsR)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-feat-slider-steps-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-feat-slider-steps-nextui-org.vercel.app?via=pr-comment-feedback-link) | Sep 27, 2023 2:42pm |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/Azs2oEdTGka9WPwVvSKUC6ueawsV)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-feat-slider-steps-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-feat-slider-steps-nextui-org.vercel.app?via=pr-comment-feedback-link) | Sep 27, 2023 2:42pm |


\n- changeset-bot: ###  ‚ö†Ô∏è  No Changeset found

Latest commit: 76e653ea96fa0e50d107ab9e7eebcecc1ce89a16

Merging this PR will not cause a version bump for any packages. If these changes should not result in a new version, you're good to go. **If these changes should result in a version bump, you need to add a changeset.**

<details><summary>This PR includes no changesets</summary>

  When changesets are added to this PR, you'll see the packages that this PR includes changesets for and the associated semver types

</details>

[Click here to learn what changesets are, and how to add one](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add a changeset to this PR](https://github.com/nextui-org/nextui/new/feat/slider-steps?filename=.changeset/old-garlics-heal.md&value=---%0A%22%40nextui-org%2Fslider%22%3A%20patch%0A%22%40nextui-org%2Ftheme%22%3A%20patch%0A---%0A%0Afeat%3A%20slider%20steps%0A)

\n

Files Changed:
- packages/components/slider/src/slider.tsx (modified, 4 changes)\n  Patch: @@ -10,6 +10,8 @@ const Slider = forwardRef<"div", SliderProps>((props, ref) => {
     Component,
     state,
     label,
+    steps,
+    getStepProps,
     getBaseProps,
     getLabelWrapperProps,
     getLabelProps,
@@ -29,6 +31,8 @@ const Slider = forwardRef<"div", SliderProps>((props, ref) => {
       )}
       <div {...getTrackProps()}>
         <div {...getFillerProps()} />
+        {Number.isFinite(steps) &&
+          Array.from({length: steps}, (_, index) => <div key={index} {...getStepProps(index)} />)}
         {state.values.map((_, index) => (
           <Thumb key={index} {...getThumbProps(index)} />
         ))}\n- packages/components/slider/src/use-slider.ts (modified, 20 changes)\n  Patch: @@ -33,6 +33,10 @@ interface Props extends HTMLNextUIProps<"div"> {
    * The display format of the value label.
    */
   formatOptions?: Intl.NumberFormatOptions;
+  /**
+   * Whether to show the step indicators.
+   */
+  showSteps?: boolean;
   /**
    * Classname or List of classes to change the classNames of the element.
    * if `className` is passed, it will be added to the base slot.
@@ -170,11 +174,27 @@ export function useSlider(originalProps: UseSliderProps) {
     } as SliderThumbProps;
   };
 
+  const {maxValue = 100, minValue = 0, step = 1, showSteps} = props;
+  const steps = showSteps ? Math.floor((maxValue - minValue) / step) + 1 : 0;
+  const getStepProps = (index: number) => {
+    const percent = state.getValuePercent(index * step + minValue);
+
+    return {
+      className: slots.step({class: classNames?.step}),
+      "data-in-range": percent <= endOffset && percent >= startOffset,
+      style: {
+        [direction === "rtl" ? "right" : "left"]: `${percent * 100}%`,
+      },
+    };
+  };
+
   return {
     Component,
     state,
     domRef,
     label,
+    steps,
+    getStepProps,
     getBaseProps,
     getLabelWrapperProps,
     getLabelProps,\n- packages/components/slider/stories/slider.stories.tsx (modified, 20 changes)\n  Patch: @@ -27,6 +27,16 @@ export default {
         type: "boolean",
       },
     },
+    step: {
+      control: {
+        type: "number",
+      },
+    },
+    showSteps: {
+      control: {
+        type: "boolean",
+      },
+    },
   },
   decorators: [
     (Story) => (
@@ -51,6 +61,16 @@ export const Default = {
   },
 };
 
+export const ShowSteps = {
+  render: Template,
+  args: {
+    ...defaultProps,
+    showSteps: true,
+    step: 5,
+    label: "Select a number",
+  },
+};
+
 export const Range = {
   render: Template,
   args: {\n- packages/core/theme/src/components/slider.ts (modified, 56 changes)\n  Patch: @@ -19,6 +19,17 @@ const slider = tv({
     labelWrapper: "w-full flex justify-between",
     label: "",
     output: "",
+    step: [
+      "h-2",
+      "w-2",
+      "absolute",
+      "rounded-full",
+      "top-1/2",
+      "bg-default-300/50",
+      "data-[in-range=true]:bg-background/50",
+      "-translate-x-1/2",
+      "-translate-y-1/2",
+    ],
     track: [
       "flex",
       "w-full",
@@ -54,6 +65,7 @@ const slider = tv({
         label: "text-small",
         output: "text-small",
         thumb: "w-5 h-5 after:w-4 after:h-4",
+        step: "data-[in-range=false]:bg-default-200",
       },
       md: {
         track:
@@ -120,6 +132,50 @@ const slider = tv({
       },
     },
   },
+  compoundVariants: [
+    {
+      size: "sm",
+      color: "foreground",
+      class: {
+        step: "data-[in-range=true]:bg-foreground",
+      },
+    },
+    {
+      size: "sm",
+      color: "primary",
+      class: {
+        step: "data-[in-range=true]:bg-primary",
+      },
+    },
+    {
+      size: "sm",
+      color: "secondary",
+      class: {
+        step: "data-[in-range=true]:bg-secondary",
+      },
+    },
+    {
+      size: "sm",
+      color: "success",
+      class: {
+        step: "data-[in-range=true]:bg-success",
+      },
+    },
+    {
+      size: "sm",
+      color: "warning",
+      class: {
+        step: "data-[in-range=true]:bg-warning",
+      },
+    },
+    {
+      size: "sm",
+      color: "danger",
+      class: {
+        step: "data-[in-range=true]:bg-danger",
+      },
+    },
+  ],
   defaultVariants: {
     size: "md",
     color: "primary",\n