Pull Request Number: 1751
Title: Feat/slider custom styles
Base Branch: feat/slider
Head Branch: feat/slider-custom-styles
Author: jrgarciadev
URL: https://github.com/nextui-org/nextui/pull/1751
State: MERGED
Created At: 2023-10-07T12:24:32Z
Merged At: 2023-10-07T20:11:50Z
Participants: jrgarciadev

Description:
Closes # 
üìù Description
Slider custom styles example added
üí£ Is this a breaking change (Yes/No): No

üìù Additional Information

  
    
    

    CleanShot.2023-10-07.at.09.22.19.mp4

Commits:
- feat(slider): custom styles story added\n- fix(slider): custom styles on different sizes\n

Labels:


Comments:
- changeset-bot: ###  ‚ö†Ô∏è  No Changeset found

Latest commit: 0b7af99f5de2f4f7ff701a1e9a67cd6f47be0263

Merging this PR will not cause a version bump for any packages. If these changes should not result in a new version, you're good to go. **If these changes should result in a version bump, you need to add a changeset.**

<details><summary>This PR includes no changesets</summary>

  When changesets are added to this PR, you'll see the packages that this PR includes changesets for and the associated semver types

</details>

[Click here to learn what changesets are, and how to add one](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add a changeset to this PR](https://github.com/nextui-org/nextui/new/feat/slider-custom-styles?filename=.changeset/fifty-masks-heal.md&value=---%0A%22%40nextui-org%2Fslider%22%3A%20patch%0A%22%40nextui-org%2Ftheme%22%3A%20patch%0A---%0A%0AFeat%2Fslider%20custom%20styles%0A)

\n- vercel: [vc]: #i+D+1S1NwH6ECenvtBPWWvqT5t9lxi0ouPMvS6PbGsE=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi80YmNUR0U3NDdlMkNYRnhMdkwyclJoRVVvcko1IiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1mZWF0LXNsaWRlci1jdXN0b20tc3R5bGVzLW5leHR1aS1vcmcudmVyY2VsLmFwcCIsIm5leHRDb21taXRTdGF0dXMiOiJERVBMT1lFRCIsImxpdmVGZWVkYmFjayI6eyJyZXNvbHZlZCI6MCwidW5yZXNvbHZlZCI6MCwidG90YWwiOjAsImxpbmsiOiJuZXh0dWktZG9jcy12Mi1naXQtZmVhdC1zbGlkZXItY3VzdG9tLXN0eWxlcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAifX0seyJuYW1lIjoibmV4dHVpLXN0b3J5Ym9vay12MiIsInJvb3REaXJlY3RvcnkiOiJwYWNrYWdlcy9zdG9yeWJvb2siLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktc3Rvcnlib29rLXYyLzMxN2pTOUNyRWIyTlczaEV4SmQ1TWpSdkFXUVIiLCJwcmV2aWV3VXJsIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZmVhdC1zbGlkZXItY3VzdG9tLXN0eWxlcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZmVhdC1zbGlkZXItY3VzdG9tLXN0eWxlcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAifX1dfQ==
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/4bcTGE747e2CXFxLvL2rRhEUorJ5)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-feat-slider-custom-styles-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-feat-slider-custom-styles-nextui-org.vercel.app?via=pr-comment-feedback-link) | Oct 7, 2023 7:22pm |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/317jS9CrEb2NW3hExJd5MjRvAWQR)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-feat-slider-custom-styles-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-feat-slider-custom-styles-nextui-org.vercel.app?via=pr-comment-feedback-link) | Oct 7, 2023 7:22pm |


\n

Files Changed:
- packages/components/slider/src/use-slider-thumb.ts (modified, 14 changes)\n  Patch: @@ -11,6 +11,7 @@ import {useFocusRing} from "@react-aria/focus";
 import {mergeProps} from "@react-aria/utils";
 import {dataAttr} from "@nextui-org/shared-utils";
 import {TooltipProps} from "@nextui-org/tooltip";
+import {useNumberFormatter} from "@react-aria/i18n";
 
 import {UseSliderProps} from "./use-slider";
 
@@ -35,6 +36,10 @@ interface Props extends HTMLNextUIProps<"div"> {
    * @internal
    */
   showTooltip?: boolean;
+  /**
+   * @internal
+   */
+  formatOptions?: Intl.NumberFormatOptions;
   /**
    * @internal
    */
@@ -60,6 +65,7 @@ export function useSliderThumb(props: UseSliderThumbProps) {
     tooltipProps,
     isVertical,
     showTooltip,
+    formatOptions,
     ...otherProps
   } = props;
 
@@ -68,6 +74,8 @@ export function useSliderThumb(props: UseSliderThumbProps) {
   const domRef = useDOMRef(ref);
   const inputRef = useRef<HTMLInputElement>(null);
 
+  const numberFormatter = useNumberFormatter(formatOptions);
+
   const {thumbProps, inputProps, isDragging} = useAriaSliderThumb(
     {
       index,
@@ -101,16 +109,18 @@ export function useSliderThumb(props: UseSliderThumbProps) {
   };
 
   const getTooltipProps = () => {
-    const value = state.values[index ?? 0];
+    const value = numberFormatter
+      ? numberFormatter.format(state.values[index ?? 0])
+      : state.values[index ?? 0];
 
     const content =
       renderOutput && typeof renderOutput === "function" ? renderOutput(`${value}`) : value;
 
     return {
+      placement: isVertical ? "right" : "top",
       ...tooltipProps,
       content,
       isOpen: isHovered || isDragging,
-      placement: isVertical ? "right" : "top",
     } as TooltipProps;
   };
 \n- packages/components/slider/src/use-slider.ts (modified, 8 changes)\n  Patch: @@ -41,6 +41,11 @@ interface Props extends HTMLNextUIProps<"div"> {
    * The display format of the value label.
    */
   formatOptions?: Intl.NumberFormatOptions;
+  /**
+   * The display format of the tooltip value label.
+   * @default formatOptions
+   */
+  tooltipValueFormatOptions?: Intl.NumberFormatOptions;
   /**
    * Whether to show the step indicators.
    * @default false
@@ -139,6 +144,7 @@ export function useSlider(originalProps: UseSliderProps) {
     classNames,
     renderOutput,
     renderThumb,
+    tooltipValueFormatOptions = formatOptions,
     tooltipProps: userTooltipProps = {},
     ...otherProps
   } = props;
@@ -294,8 +300,8 @@ export function useSlider(originalProps: UseSliderProps) {
       renderOutput,
       tooltipProps,
       showTooltip,
+      formatOptions: tooltipValueFormatOptions,
       className: slots.thumb({class: classNames?.thumb}),
-      ...props,
     } as SliderThumbProps;
   };
 \n- packages/components/slider/stories/slider.stories.tsx (modified, 66 changes)\n  Patch: @@ -61,11 +61,55 @@ const defaultProps = {
 };
 
 const Template = (args: SliderProps) => (
-  <div className="flex max-w-md items-center justify-start">
+  <div className="flex w-full h-full max-w-md items-center justify-start">
     <Slider {...args} />
   </div>
 );
 
+const CustomStylesTemplate = (args: SliderProps) => (
+  <div className="flex items-center justify-center w-screen h-screen ">
+    <div className="flex items-center justify-center w-full h-full max-w-md">
+      <Slider
+        {...args}
+        classNames={{
+          filler: ["bg-gradient-to-r from-primary-500 to-secondary-400"],
+          labelWrapper: "mb-2",
+          label: "font-medium text-default-700 text-medium",
+          output: "font-medium text-default-500 text-small",
+          thumb: [
+            "transition-size",
+            "bg-gradient-to-r from-secondary-400 to-primary-500",
+            "data-[dragging=true]:shadow-lg data-[dragging=true]:shadow-black/20",
+            args.size === "sm" || args.size === "md"
+              ? "data-[dragging=true]:w-7 data-[dragging=true]:h-7 data-[dragging=true]:after:h-6 data-[dragging=true]:after:w-6"
+              : "",
+          ],
+          step:
+            args.size === "sm" && args.showSteps
+              ? "data-[in-range=true]:bg-black/30 dark:data-[in-range=true]:bg-white/50"
+              : "",
+        }}
+        disableThumbScale={args.size !== "lg"}
+        showOutline={args.showOutline && args.size !== "lg"}
+        tooltipProps={{
+          offset: 10,
+          placement: "bottom",
+          classNames: {
+            base: [
+              // arrow color
+              "before:bg-gradient-to-r before:from-secondary-400 before:to-primary-500",
+            ],
+            content: [
+              "py-2 px-3 shadow-xl",
+              "text-white bg-gradient-to-r from-secondary-400 to-primary-500",
+            ],
+          },
+        }}
+      />
+    </div>
+  </div>
+);
+
 const VerticalTemplate = (args: SliderProps) => (
   <div className="flex max-w-md h-[448px] items-center justify-start">
     <Slider {...args} />
@@ -76,7 +120,7 @@ const ControlledTemplate = (args: SliderProps) => {
   const [value, setValue] = React.useState<SliderValue>(25);
 
   return (
-    <div className="flex flex-col gap-2  max-w-md items-start justify-center">
+    <div className="flex flex-col gap-2  w-full h-full max-w-md items-start justify-center">
       <Slider value={value} onChange={setValue} {...args} />
       <p className="text-default-500 text-small">Current volume: {value}</p>
     </div>
@@ -263,3 +307,21 @@ export const ControlledRange = {
     formatOptions: {style: "currency", currency: "USD"},
   },
 };
+
+export const CustomStyles = {
+  render: CustomStylesTemplate,
+  args: {
+    ...defaultProps,
+    label: "Price Range",
+    maxValue: 1000,
+    size: "md",
+    step: 100,
+    showSteps: true,
+    showOutline: true,
+    defaultValue: [100, 300],
+    disableThumbScale: true,
+    showTooltip: true,
+    formatOptions: {style: "currency", currency: "USD"},
+    tooltipValueFormatOptions: {style: "currency", currency: "USD", maximumFractionDigits: 0},
+  },
+};\n- packages/core/theme/src/components/slider.ts (modified, 14 changes)\n  Patch: @@ -12,8 +12,8 @@ import {tv} from "../utils/tv";
  *
  * <div className={slots.base()}>
  *  <div className={slots.labelWrapper()}>
- *   <label className={slots.label()}>Label</label>
- *   <output className={slots.output()} />
+ *    <label className={slots.label()}>Label</label>
+ *    <output className={slots.output()} />
  *  </div>
  *  <div className={slots.trackWrapper()}>
  *      <div className={slots.startContent()}>Start Content</div>
@@ -30,7 +30,7 @@ import {tv} from "../utils/tv";
 const slider = tv({
   slots: {
     base: "flex flex-col w-full gap-1",
-    labelWrapper: "w-full flex justify-between",
+    labelWrapper: "w-full flex justify-between items-center",
     label: "",
     output: "",
     step: [
@@ -69,7 +69,6 @@ const slider = tv({
       "before:w-11",
       "before:h-11",
       "before:rounded-full",
-      "data-[dragging=true]:after:scale-80",
       "after:shadow-small",
       "after:rounded-full",
       "after:shadow-small",
@@ -162,6 +161,12 @@ const slider = tv({
         mark: "transition-opacity motion-reduce:transition-none",
       },
     },
+    disableThumbScale: {
+      true: {},
+      false: {
+        thumb: "data-[dragging=true]:after:scale-80",
+      },
+    },
     showOutline: {
       true: {
         thumb: "ring-2 ring-background",
@@ -363,6 +368,7 @@ const slider = tv({
     color: "primary",
     showOutput: true,
     isDisabled: false,
+    disableThumbScale: false,
     disableAnimation: false,
     showOutline: false,
   },\n- packages/core/theme/src/utilities/transition.ts (modified, 5 changes)\n  Patch: @@ -47,6 +47,11 @@ export default {
     "transition-timing-function": "ease",
     "transition-duration": DEFAULT_TRANSITION_DURATION,
   },
+  ".transition-size": {
+    "transition-property": "width, height",
+    "transition-timing-function": "ease",
+    "transition-duration": DEFAULT_TRANSITION_DURATION,
+  },
   ".transition-left": {
     "transition-property": "left",
     "transition-timing-function": "ease",\n