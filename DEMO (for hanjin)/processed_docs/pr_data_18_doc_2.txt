Pull Request Number: 1948
Title: Fix/autocomplete ref
Base Branch: main
Head Branch: fix/autocomplete-ref
Author: jrgarciadev
URL: https://github.com/nextui-org/nextui/pull/1948
State: MERGED
Created At: 2023-11-10T11:52:31Z
Merged At: 2023-11-10T12:03:49Z
Participants: jrgarciadev

Description:
Closes #
‚õ≥Ô∏è Current behavior (updates)
Currently the autocomplete reference is passed to the wrapper instead of the input
üöÄ New behavior
Reference passed to the input element
üí£ Is this a breaking change (Yes/No): No

üìù Additional Information

Commits:
- fix(tabs): selected key prop duplicated type removed\n- fix(autocomplete): reference aims to input\n- chore(autocomplete): changeset\n

Labels:


Comments:
- changeset-bot: ###  ü¶ã  Changeset detected

Latest commit: cb3cb524905e91b7a8e33d9444d5a98f73e2f812

**The changes in this PR will be included in the next version bump.**

<details><summary>This PR includes changesets to release 3 packages</summary>

  | Name                     | Type  |
| ------------------------ | ----- |
| @nextui-org/autocomplete | Patch |
| @nextui-org/tabs         | Patch |
| @nextui-org/react        | Patch |

</details>

Not sure what this means? [Click here  to learn what changesets are](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add another changeset to this PR](https://github.com/nextui-org/nextui/new/fix/autocomplete-ref?filename=.changeset/large-olives-repair.md&value=---%0A%22%40nextui-org%2Fautocomplete%22%3A%20patch%0A%22%40nextui-org%2Ftabs%22%3A%20patch%0A---%0A%0AFix%2Fautocomplete%20ref%0A)

\n- vercel: [vc]: #sYbEADvqLL5QknkjVX6MECppZWY/XcTWpFmeu008F/0=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi9DZ2kxTXVxa3RiZkNYTG1FY3Z6WjFGS3I1b0tGIiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1maXgtYXV0b2NvbXBsZXRlLXJlZi1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLWRvY3MtdjItZ2l0LWZpeC1hdXRvY29tcGxldGUtcmVmLW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9fSx7Im5hbWUiOiJuZXh0dWktc3Rvcnlib29rLXYyIiwicm9vdERpcmVjdG9yeSI6InBhY2thZ2VzL3N0b3J5Ym9vayIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9uZXh0dWktb3JnL25leHR1aS1zdG9yeWJvb2stdjIvRGpTV1Zjd3BNY050Q2tYRTJqUGJQYkZkUlhHUCIsInByZXZpZXdVcmwiOiJuZXh0dWktc3Rvcnlib29rLXYyLWdpdC1maXgtYXV0b2NvbXBsZXRlLXJlZi1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZml4LWF1dG9jb21wbGV0ZS1yZWYtbmV4dHVpLW9yZy52ZXJjZWwuYXBwIn19XX0=
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/Cgi1MuqktbfCXLmEcvzZ1FKr5oKF)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-autocomplete-ref-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-autocomplete-ref-nextui-org.vercel.app?via=pr-comment-feedback-link) | Nov 10, 2023 11:55am |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/DjSWVcwpMcNtCkXE2jPbPbFdRXGP)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-autocomplete-ref-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-autocomplete-ref-nextui-org.vercel.app?via=pr-comment-feedback-link) | Nov 10, 2023 11:55am |


\n

Files Changed:
- .changeset/lucky-chefs-remain.md (added, 5 changes)\n  Patch: @@ -0,0 +1,5 @@
+---
+"@nextui-org/autocomplete": patch
+---
+
+Autocomplete Reference aims to input instead of aiming to the wrapper element\n- .changeset/silent-lemons-mate.md (added, 5 changes)\n  Patch: @@ -0,0 +1,5 @@
+---
+"@nextui-org/tabs": patch
+---
+
+Fix #1938 selectedKey duplicated declaration\n- packages/components/autocomplete/src/use-autocomplete.ts (modified, 7 changes)\n  Patch: @@ -177,10 +177,10 @@ export function useAutocomplete<T extends object>(originalProps: UseAutocomplete
 
   // Setup refs and get props for child elements.
   const buttonRef = useRef<HTMLButtonElement>(null);
-  const inputRef = useRef<HTMLInputElement>(null);
   const inputWrapperRef = useRef<HTMLDivElement>(null);
   const listBoxRef = useRef<HTMLUListElement>(null);
   const popoverRef = useRef<HTMLDivElement>(null);
+  const inputRef = useDOMRef<HTMLInputElement>(ref);
   const scrollShadowRef = useDOMRef<HTMLElement>(scrollRefProp);
 
   const slotsProps: {
@@ -293,8 +293,6 @@ export function useAutocomplete<T extends object>(originalProps: UseAutocomplete
 
   const Component = as || "div";
 
-  const domRef = useDOMRef(ref);
-
   const slots = useMemo(
     () =>
       autocomplete({
@@ -320,7 +318,6 @@ export function useAutocomplete<T extends object>(originalProps: UseAutocomplete
   );
 
   const getBaseProps: PropGetter = () => ({
-    ref: domRef,
     "data-invalid": dataAttr(originalProps?.isInvalid),
     "data-open": dataAttr(state.isOpen),
     className: slots.base({class: baseStyles}),
@@ -419,7 +416,7 @@ export function useAutocomplete<T extends object>(originalProps: UseAutocomplete
 
   return {
     Component,
-    domRef,
+    inputRef,
     label,
     state,
     slots,\n- packages/components/tabs/src/use-tabs.ts (modified, 2 changes)\n  Patch: @@ -51,7 +51,7 @@ export interface Props extends Omit<HTMLNextUIProps, "children"> {
 
 export type UseTabsProps<T> = Props &
   TabsVariantProps &
-  Omit<TabListStateOptions<T>, "children"> &
+  Omit<TabListStateOptions<T>, "children" | keyof AriaTabListProps<T>> &
   Omit<AriaTabListProps<T>, "children" | "orientation"> &
   CollectionProps<T>;
 \n