Pull Request Number: 1410
Title: fix(popover): allow passing custom z-index
Base Branch: main
Head Branch: fix/1409
Author: jrgarciadev
URL: https://github.com/nextui-org/nextui/pull/1410
State: MERGED
Created At: 2023-08-15T21:11:22Z
Merged At: 2023-08-15T21:22:08Z
Participants: jrgarciadev

Description:
Closes #1409
üìù Description
Add the possibility to merge the style prop with the one returned by react-aria
‚õ≥Ô∏è Current behavior (updates)

Please describe the current behavior that you are modifying

üöÄ New behavior

Please describe the behavior or changes this PR adds

üí£ Is this a breaking change (Yes/No):

üìù Additional Information

Commits:
- fix(popover): allow pass custom z-index\n

Labels:


Comments:
- changeset-bot: ###  ü¶ã  Changeset detected

Latest commit: b5ee073a183e20451d85235a3952309d05453f2e

**The changes in this PR will be included in the next version bump.**

<details><summary>This PR includes changesets to release 6 packages</summary>

  | Name                  | Type  |
| --------------------- | ----- |
| @nextui-org/accordion | Patch |
| @nextui-org/popover   | Patch |
| @nextui-org/snippet   | Patch |
| @nextui-org/user      | Patch |
| @nextui-org/react     | Patch |
| @nextui-org/dropdown  | Patch |

</details>

Not sure what this means? [Click here  to learn what changesets are](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add another changeset to this PR](https://github.com/nextui-org/nextui/new/fix/1409?filename=.changeset/eleven-jobs-lick.md&value=---%0A%22%40nextui-org%2Faccordion%22%3A%20patch%0A%22%40nextui-org%2Fpopover%22%3A%20patch%0A%22%40nextui-org%2Fsnippet%22%3A%20patch%0A%22%40nextui-org%2Fuser%22%3A%20patch%0A---%0A%0Afix(popover)%3A%20allow%20passing%20custom%20z-index%0A)

\n- vercel: [vc]: #EKbQ7aG8hC7SMp0A32PNI8DHqWFGg9DF/qc4f4oE9z4=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi9DeFhnb3dLVmZHVW5GaVM1YXVmYUFLSlNmc1Y3IiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1maXgtMTQwOS1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLWRvY3MtdjItZ2l0LWZpeC0xNDA5LW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9fSx7Im5hbWUiOiJuZXh0dWktc3Rvcnlib29rLXYyIiwicm9vdERpcmVjdG9yeSI6InBhY2thZ2VzL3N0b3J5Ym9vayIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9uZXh0dWktb3JnL25leHR1aS1zdG9yeWJvb2stdjIvRW5LZUUxNnU2aWp1VFp5NDFub0ZYV3YySml6RCIsInByZXZpZXdVcmwiOiJuZXh0dWktc3Rvcnlib29rLXYyLWdpdC1maXgtMTQwOS1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZml4LTE0MDktbmV4dHVpLW9yZy52ZXJjZWwuYXBwIn19XX0=
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/CxXgowKVfGUnFiS5aufaAKJSfsV7)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-1409-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-1409-nextui-org.vercel.app?via=pr-comment-feedback-link) | Aug 15, 2023 9:14pm |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/EnKeE16u6ijuTZy41noFXWv2JizD)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-1409-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-1409-nextui-org.vercel.app?via=pr-comment-feedback-link) | Aug 15, 2023 9:14pm |


\n

Files Changed:
- .changeset/clean-buses-sing.md (added, 8 changes)\n  Patch: @@ -0,0 +1,8 @@
+---
+"@nextui-org/accordion": patch
+"@nextui-org/popover": patch
+"@nextui-org/snippet": patch
+"@nextui-org/user": patch
+---
+
+Popover style prop merged with the one returned by react-aria, other components merge props improvements\n- packages/components/accordion/src/use-accordion.ts (modified, 2 changes)\n  Patch: @@ -29,7 +29,7 @@ interface Props extends HTMLNextUIProps<"div"> {
   /**
    * The divider props.
    */
-  dividerProps?: DividerProps;
+  dividerProps?: Partial<DividerProps>;
   /**
    * The accordion selection behavior.
    * @default "toggle"\n- packages/components/popover/src/use-popover.ts (modified, 1 changes)\n  Patch: @@ -170,6 +170,7 @@ export function usePopover(originalProps: UsePopoverProps) {
   const getPopoverProps: PropGetter = (props = {}) => ({
     ref: popoverRef,
     ...mergeProps(popoverProps, otherProps, props),
+    style: mergeProps(popoverProps.style, otherProps.style, props.style),
     id: popoverId,
   });
 \n- packages/components/popover/stories/popover.stories.tsx (modified, 8 changes)\n  Patch: @@ -154,7 +154,13 @@ const OpenChangeTemplate = (args: PopoverProps) => {
 
   return (
     <div className="flex flex-col gap-2">
-      <Popover {...args} onOpenChange={(open) => setIsOpen(open)}>
+      <Popover
+        {...args}
+        style={{
+          zIndex: 10,
+        }}
+        onOpenChange={(open) => setIsOpen(open)}
+      >
         <PopoverTrigger>
           <Button>Open Popover</Button>
         </PopoverTrigger>\n- packages/components/snippet/src/use-snippet.ts (modified, 31 changes)\n  Patch: @@ -96,7 +96,7 @@ export interface UseSnippetProps extends Omit<HTMLNextUIProps, "onCopy">, Snippe
    *  isDisabled: disableCopy,
    * }
    */
-  tooltipProps?: TooltipProps;
+  tooltipProps?: Partial<TooltipProps>;
   /**
    * Copy button props.
    * @see [Button](https://nextui.org/components/button) for more details.
@@ -108,7 +108,7 @@ export interface UseSnippetProps extends Omit<HTMLNextUIProps, "onCopy">, Snippe
    *   isIconOnly: true,
    * }
    */
-  copyButtonProps?: ButtonProps;
+  copyButtonProps?: Partial<ButtonProps>;
   /**
    * Callback when the text is copied.
    */
@@ -134,20 +134,23 @@ export function useSnippet(originalProps: UseSnippetProps) {
     autoFocus = false,
     hideSymbol = false,
     onCopy: onCopyProp,
-    tooltipProps = {
-      offset: 15,
-      delay: 1000,
-      content: "Copy to clipboard",
-      color: originalProps?.color as TooltipProps["color"],
-      isDisabled: disableCopy,
-    },
-    copyButtonProps,
+    tooltipProps: userTooltipProps = {},
+    copyButtonProps: userButtonProps = {},
     className,
     ...otherProps
   } = props;
 
   const Component = as || "div";
 
+  const tooltipProps: Partial<TooltipProps> = {
+    offset: 15,
+    delay: 1000,
+    content: "Copy to clipboard",
+    color: originalProps?.color as TooltipProps["color"],
+    isDisabled: props.disableCopy,
+    ...userTooltipProps,
+  };
+
   const domRef = useDOMRef(ref);
   const preRef = useRef<HTMLPreElement>(null);
 
@@ -212,21 +215,21 @@ export function useSnippet(originalProps: UseSnippetProps) {
     onCopyProp?.(valueToCopy);
   }, [copy, codeString, disableCopy, onCopyProp, children]);
 
-  const defaultCopyButtonProps: ButtonProps = {
+  const copyButtonProps: Partial<ButtonProps> = {
     "aria-label":
       typeof tooltipProps.content === "string" ? tooltipProps.content : "Copy to clipboard",
     size: "sm",
     variant: "light",
     isDisabled: disableCopy,
     onPress: onCopy,
     isIconOnly: true,
-    ...copyButtonProps,
+    ...userButtonProps,
   };
 
   const getCopyButtonProps = useCallback(
     () =>
       ({
-        ...defaultCopyButtonProps,
+        ...copyButtonProps,
         "data-copied": dataAttr(copied),
         className: slots.copyButton({
           class: clsx(classNames?.copyButton),
@@ -238,7 +241,7 @@ export function useSnippet(originalProps: UseSnippetProps) {
       isFocused,
       disableCopy,
       classNames?.copyButton,
-      defaultCopyButtonProps,
+      copyButtonProps,
       focusProps,
     ],
   );\n- packages/components/user/src/use-user.ts (modified, 13 changes)\n  Patch: @@ -31,7 +31,7 @@ interface Props {
    * The user avatar props
    * @see https://nextui.org/docs/components/avatar
    */
-  avatarProps?: AvatarProps;
+  avatarProps?: Partial<AvatarProps>;
   /**
    * Classname or List of classes to change the classNames of the avatar.
    * if `className` is passed, it will be added to the base slot.
@@ -60,13 +60,16 @@ export function useUser(props: UseUserProps) {
     className,
     classNames,
     isFocusable = false,
-    avatarProps = {
-      isFocusable: false,
-      name: typeof name === "string" ? name : undefined,
-    },
+    avatarProps: userAvatarProps = {},
     ...otherProps
   } = props;
 
+  const avatarProps = {
+    isFocusable: false,
+    name: typeof name === "string" ? name : undefined,
+    ...userAvatarProps,
+  };
+
   const Component = as || "div";
   const shouldFilterDOMProps = typeof Component === "string";
 \n