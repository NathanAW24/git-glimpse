Pull Request Number: 2452
Title: Fix/dropdown disabled state
Base Branch: main
Head Branch: fix/dropdown-disabled-state
Author: jrgarciadev
URL: https://github.com/nextui-org/nextui/pull/2452
State: MERGED
Created At: 2024-03-05T18:37:23Z
Merged At: 2024-03-05T19:14:19Z
Participants: jrgarciadev

Description:
Closes #2448
üìù Description
PopoverTrigger child props fixed
‚õ≥Ô∏è Current behavior (updates)
The DropdownTrigger / PopoverTrigger doesn't have priority over the main props
üöÄ New behavior
The DropdownTrigger / PopoverTrigger props prioritized
üí£ Is this a breaking change (Yes/No): No

üìù Additional Information

Commits:
- fix(popover): dropdown behavior on disabled state and update popover trigger props\n- chore(dropdown): add DisabledTrigger story to dropdown.stories.tsx\n

Labels:


Comments:
- changeset-bot: ###  ‚ö†Ô∏è  No Changeset found

Latest commit: 3c525588d745d46de1d4b57a943339055be6baf1

Merging this PR will not cause a version bump for any packages. If these changes should not result in a new version, you're good to go. **If these changes should result in a version bump, you need to add a changeset.**

<details><summary>This PR includes no changesets</summary>

  When changesets are added to this PR, you'll see the packages that this PR includes changesets for and the associated semver types

</details>

[Click here to learn what changesets are, and how to add one](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add a changeset to this PR](https://github.com/nextui-org/nextui/new/fix/dropdown-disabled-state?filename=.changeset/soft-pugs-compare.md&value=---%0A%22%40nextui-org%2Fdropdown%22%3A%20patch%0A%22%40nextui-org%2Fpopover%22%3A%20patch%0A---%0A%0AFix%2Fdropdown%20disabled%20state%0A)

\n- vercel: [vc]: #ukIMMNc5pMWStTV/TxzimW7IZMW+/TDFGTh6ZkPwBLc=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi9DQnVQaXB2M1o2WVlCM2NxMlEzOXRWUEZuMWNQIiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1maXgtZHJvcGRvd24tZGlzYWJsZWQtc3RhdGUtbmV4dHVpLW9yZy52ZXJjZWwuYXBwIiwibmV4dENvbW1pdFN0YXR1cyI6IkRFUExPWUVEIiwibGl2ZUZlZWRiYWNrIjp7InJlc29sdmVkIjowLCJ1bnJlc29sdmVkIjowLCJ0b3RhbCI6MCwibGluayI6Im5leHR1aS1kb2NzLXYyLWdpdC1maXgtZHJvcGRvd24tZGlzYWJsZWQtc3RhdGUtbmV4dHVpLW9yZy52ZXJjZWwuYXBwIn19LHsibmFtZSI6Im5leHR1aS1zdG9yeWJvb2stdjIiLCJyb290RGlyZWN0b3J5IjoicGFja2FnZXMvc3Rvcnlib29rIiwiaW5zcGVjdG9yVXJsIjoiaHR0cHM6Ly92ZXJjZWwuY29tL25leHR1aS1vcmcvbmV4dHVpLXN0b3J5Ym9vay12Mi9FUzJ3YjRwVmZFTmlCclJzcW1ydjh2c2U3b1BXIiwicHJldmlld1VybCI6Im5leHR1aS1zdG9yeWJvb2stdjItZ2l0LWZpeC1kcm9wZG93bi1kaXNhYmxlZC1zdGF0ZS1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLXN0b3J5Ym9vay12Mi1naXQtZml4LWRyb3Bkb3duLWRpc2FibGVkLXN0YXRlLW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9fV19
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/CBuPipv3Z6YYB3cq2Q39tVPFn1cP)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-dropdown-disabled-state-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-dropdown-disabled-state-nextui-org.vercel.app?via=pr-comment-feedback-link) | Mar 5, 2024 6:39pm |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/ES2wb4pVfENiBrRsqmrv8vse7oPW)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-dropdown-disabled-state-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-dropdown-disabled-state-nextui-org.vercel.app?via=pr-comment-feedback-link) | Mar 5, 2024 6:39pm |


\n

Files Changed:
- packages/components/dropdown/__tests__/dropdown.test.tsx (modified, 30 changes)\n  Patch: @@ -353,6 +353,36 @@ describe("Dropdown", () => {
     expect(menu).toBeFalsy();
   });
 
+  it("should not open on disabled dropdown", () => {
+    const wrapper = render(
+      <Dropdown isDisabled>
+        <DropdownTrigger>
+          <Button data-testid="trigger-test">Trigger</Button>
+        </DropdownTrigger>
+        <DropdownMenu aria-label="Actions">
+          <DropdownItem key="new">New file</DropdownItem>
+          <DropdownItem key="copy">Copy link</DropdownItem>
+          <DropdownItem key="edit">Edit file</DropdownItem>
+          <DropdownItem key="delete" color="danger">
+            Delete file
+          </DropdownItem>
+        </DropdownMenu>
+      </Dropdown>,
+    );
+
+    let triggerButton = wrapper.getByTestId("trigger-test");
+
+    expect(triggerButton).toBeTruthy();
+
+    act(() => {
+      triggerButton.click();
+    });
+
+    let menu = wrapper.queryByRole("menu");
+
+    expect(menu).toBeFalsy();
+  });
+
   it("should not select on disabled item", () => {
     const onSelectionChange = jest.fn();
     const wrapper = render(\n- packages/components/dropdown/stories/dropdown.stories.tsx (modified, 9 changes)\n  Patch: @@ -610,6 +610,15 @@ export const DisabledKeys = {
   },
 };
 
+export const DisabledTrigger = {
+  render: Template,
+
+  args: {
+    ...defaultProps,
+    isDisabled: true,
+  },
+};
+
 export const SingleSelection = {
   render: SingleSelectionTemplate,
 \n- packages/components/popover/src/popover-trigger.tsx (modified, 2 changes)\n  Patch: @@ -30,7 +30,7 @@ const PopoverTrigger = forwardRef<"button", PopoverTriggerProps>((props, _) => {
   }, [children]);
 
   const {onPress, ...rest} = useMemo(() => {
-    return getTriggerProps(mergeProps(child.props, otherProps), child.ref);
+    return getTriggerProps(mergeProps(otherProps, child.props), child.ref);
   }, [getTriggerProps, child.props, otherProps, child.ref]);
 
   // validates if contains a NextUI Button as a child\n