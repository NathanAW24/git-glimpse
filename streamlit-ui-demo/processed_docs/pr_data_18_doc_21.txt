Pull Request Number: 1891
Title: Input/Select/Textarea/Autocomplete. styles adapted to custom default color.
Base Branch: main
Head Branch: fix/input-select-styles
Author: jrgarciadev
URL: https://github.com/nextui-org/nextui/pull/1891
State: MERGED
Created At: 2023-11-06T11:11:05Z
Merged At: 2023-11-06T11:20:02Z
Participants: jrgarciadev

Description:
value

üìù Description
The Input/Textarea/Autocomplete/Select styles were adapted to work well with custom default colour.

 Styles adpated
 Text overflow added to the label

‚õ≥Ô∏è Current behavior (updates)

üöÄ New behavior

üí£ Is this a breaking change (Yes/No): No

üìù Additional Information

Commits:
- fix(theme): update input and select styling and add data attribute for
value\n

Labels:


Comments:
- changeset-bot: ###  ü¶ã  Changeset detected

Latest commit: e988ae9e1272d655208dc18d0921e7214845e912

**The changes in this PR will be included in the next version bump.**

<details><summary>This PR includes changesets to release 4 packages</summary>

  | Name                     | Type  |
| ------------------------ | ----- |
| @nextui-org/input        | Patch |
| @nextui-org/theme        | Patch |
| @nextui-org/autocomplete | Patch |
| @nextui-org/react        | Patch |

</details>

Not sure what this means? [Click here  to learn what changesets are](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add another changeset to this PR](https://github.com/nextui-org/nextui/new/fix/input-select-styles?filename=.changeset/unlucky-rings-unite.md&value=---%0A%22%40nextui-org%2Finput%22%3A%20patch%0A%22%40nextui-org%2Ftheme%22%3A%20patch%0A%22%40nextui-org%2Fstorybook%22%3A%20patch%0A---%0A%0AInput%2FSelect%2FTextarea%2FAutocomplete.%20styles%20adapted%20to%20custom%20default%20color.%0A)

\n- vercel: [vc]: #BaVXJXepMaDgdWTsPz26ELAG1BkkHt6hsUlKUuqq9rs=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJpbnNwZWN0b3JVcmwiOiJodHRwczovL3ZlcmNlbC5jb20vbmV4dHVpLW9yZy9uZXh0dWktZG9jcy12Mi9FVWFob3R3b2pDemlUR0IyZlJjcFg1dzY3eHNaIiwicHJldmlld1VybCI6Im5leHR1aS1kb2NzLXYyLWdpdC1maXgtaW5wdXQtc2VsZWN0LXN0eWxlcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLWRvY3MtdjItZ2l0LWZpeC1pbnB1dC1zZWxlY3Qtc3R5bGVzLW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9fSx7Im5hbWUiOiJuZXh0dWktc3Rvcnlib29rLXYyIiwicm9vdERpcmVjdG9yeSI6InBhY2thZ2VzL3N0b3J5Ym9vayIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9uZXh0dWktb3JnL25leHR1aS1zdG9yeWJvb2stdjIvRlA2Q0d3bzZvaDNvVWpTdWZyZGN2MnU0M3V2aiIsIm5leHRDb21taXRTdGF0dXMiOiJERVBMT1lFRCIsImxpdmVGZWVkYmFjayI6eyJyZXNvbHZlZCI6MCwidW5yZXNvbHZlZCI6MCwidG90YWwiOjAsImxpbmsiOiJuZXh0dWktc3Rvcnlib29rLXYyLWdpdC1maXgtaW5wdXQtc2VsZWN0LXN0eWxlcy1uZXh0dWktb3JnLnZlcmNlbC5hcHAifSwicHJldmlld1VybCI6Im5leHR1aS1zdG9yeWJvb2stdjItZ2l0LWZpeC1pbnB1dC1zZWxlY3Qtc3R5bGVzLW5leHR1aS1vcmcudmVyY2VsLmFwcCJ9XX0=
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/EUahotwojCziTGB2fRcpX5w67xsZ)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-input-select-styles-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-input-select-styles-nextui-org.vercel.app?via=pr-comment-feedback-link) | Nov 6, 2023 11:13am |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/FP6CGwo6oh3oUjSufrdcv2u43uvj)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-input-select-styles-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-input-select-styles-nextui-org.vercel.app?via=pr-comment-feedback-link) | Nov 6, 2023 11:13am |


\n

Files Changed:
- .changeset/real-moons-complain.md (added, 6 changes)\n  Patch: @@ -0,0 +1,6 @@
+---
+"@nextui-org/input": patch
+"@nextui-org/theme": patch
+---
+
+- Input/Autocomplete/Textarea/Select styles adapted to custom default color, label truncate added\n- packages/components/input/src/use-input.ts (modified, 1 changes)\n  Patch: @@ -238,6 +238,7 @@ export function useInput<T extends HTMLInputElement | HTMLTextAreaElement = HTML
         "data-has-elements": dataAttr(hasElements),
         "data-has-helper": dataAttr(hasHelper),
         "data-has-label": dataAttr(hasLabel),
+        "data-has-value": dataAttr(!isPlaceholderShown),
         ...focusWithinProps,
         ...props,
       };\n- packages/core/theme/src/components/input.ts (modified, 38 changes)\n  Patch: @@ -33,15 +33,19 @@ const input = tv({
       "block",
       "text-small",
       "text-foreground-500",
+      "opacity-70",
+      "group-data-[filled-within=true]:opacity-100",
     ],
     mainWrapper: "h-full",
     inputWrapper:
       "relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",
     innerWrapper: "inline-flex w-full items-center h-full box-border",
     input: [
+      "opacity-70",
       "w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none",
       "data-[has-start-content=true]:ps-1.5",
       "data-[has-end-content=true]:pe-1.5",
+      "group-data-[has-value=true]:opacity-100",
     ],
     clearButton: [
       "p-2",
@@ -73,6 +77,8 @@ const input = tv({
           "data-[hover=true]:bg-default-200",
           "group-data-[focus=true]:bg-default-100",
         ],
+        input: "placeholder:text-default-foreground",
+        label: "text-default-foreground",
       },
       faded: {
         inputWrapper: [
@@ -81,14 +87,18 @@ const input = tv({
           "border-default-200",
           "data-[hover=true]:border-default-400",
         ],
+        input: "placeholder:text-default-foreground",
+        label: "text-default-foreground",
       },
       bordered: {
         inputWrapper: [
           "border-medium",
           "border-default-200",
           "data-[hover=true]:border-default-400",
-          "group-data-[focus=true]:border-foreground",
+          "group-data-[focus=true]:border-default-foreground",
         ],
+        input: "placeholder:text-foreground",
+        label: "text-foreground",
       },
       underlined: {
         inputWrapper: [
@@ -105,7 +115,7 @@ const input = tv({
           "after:content-['']",
           "after:w-0",
           "after:origin-center",
-          "after:bg-foreground",
+          "after:bg-default-foreground",
           "after:absolute",
           "after:left-1/2",
           "after:-translate-x-1/2",
@@ -114,10 +124,14 @@ const input = tv({
           "group-data-[focus=true]:after:w-full",
         ],
         innerWrapper: "pb-1",
+        input: "placeholder:text-foreground",
+        label: "text-foreground",
       },
     },
     color: {
-      default: {},
+      default: {
+        label: "group-data-[filled-within=true]:opacity-80",
+      },
       primary: {},
       secondary: {},
       success: {},
@@ -494,14 +508,6 @@ const input = tv({
         ],
       },
     },
-    // inside && default
-    {
-      labelPlacement: "inside",
-      color: "default",
-      class: {
-        label: "group-data-[filled-within=true]:text-foreground-600",
-      },
-    },
     // isInvalid & variant
     {
       isInvalid: true,
@@ -582,11 +588,9 @@ const input = tv({
         label: [
           "pb-0",
           "z-20",
-          "opacity-60",
           "top-1/2",
           "-translate-y-1/2",
           "group-data-[filled-within=true]:left-0",
-          "group-data-[filled-within=true]:opacity-100",
         ],
       },
     },
@@ -601,7 +605,6 @@ const input = tv({
     {
       labelPlacement: ["inside"],
       variant: "flat",
-      size: ["md", "lg"],
       class: {
         innerWrapper: "pb-0.5",
       },
@@ -808,6 +811,13 @@ const input = tv({
         input: "transition-height !duration-100 motion-reduce:transition-none",
       },
     },
+    // text truncate labelPlacement=[inside,outside]
+    {
+      labelPlacement: ["inside", "outside"],
+      class: {
+        label: ["pe-2", "max-w-full", "text-ellipsis", "overflow-hidden"],
+      },
+    },
   ],
 });
 \n- packages/core/theme/src/components/select.ts (modified, 52 changes)\n  Patch: @@ -15,6 +15,8 @@ const select = tv({
       "text-small",
       "text-foreground-500",
       "pointer-events-none",
+      "opacity-70",
+      "group-data-[filled=true]:opacity-100",
     ],
     mainWrapper: "w-full flex flex-col",
     trigger:
@@ -23,7 +25,13 @@ const select = tv({
       "inline-flex h-full w-[calc(100%_-_theme(spacing.unit-6))] min-h-unit-4 items-center gap-1.5 box-border",
     selectorIcon: "absolute right-3 w-unit-4 h-unit-4",
     spinner: "absolute right-3",
-    value: ["font-normal", "w-full", "text-left"],
+    value: [
+      "font-normal",
+      "w-full",
+      "text-left",
+      "opacity-70",
+      "group-data-[has-value=true]:opacity-100",
+    ],
     listboxWrapper: "scroll-py-6 max-h-64 w-full",
     listbox: "",
     popoverContent: "w-full p-1 overflow-hidden",
@@ -39,6 +47,8 @@ const select = tv({
           "data-[hover=true]:bg-default-200",
           "group-data-[focus=true]:bg-default-100",
         ],
+        label: "text-default-foreground",
+        value: "placeholder:text-default-foreground",
       },
       faded: {
         trigger: [
@@ -47,15 +57,20 @@ const select = tv({
           "border-default-200",
           "data-[hover=true]:border-default-400",
         ],
+        label: "text-default-foreground",
+        value: "placeholder:text-default-foreground",
       },
       bordered: {
         trigger: [
           "border-medium",
           "border-default-200",
           "data-[hover=true]:border-default-400",
-          "data-[open=true]:border-foreground",
-          "data-[focus=true]:border-foreground",
+          "data-[open=true]:border-default-foreground",
+          "data-[focus=true]:border-default-foreground",
+          "data-[focus=true]:border-default-foreground",
         ],
+        label: "text-foreground",
+        value: "placeholder:text-foreground",
       },
       underlined: {
         trigger: [
@@ -72,7 +87,7 @@ const select = tv({
           "after:content-['']",
           "after:w-0",
           "after:origin-center",
-          "after:bg-foreground",
+          "after:bg-default-foreground",
           "after:absolute",
           "after:left-1/2",
           "after:-translate-x-1/2",
@@ -81,11 +96,13 @@ const select = tv({
           "data-[open=true]:after:w-full",
           "data-[focus=true]:after:w-full",
         ],
+        label: "text-foreground",
+        value: "placeholder:text-foreground",
       },
     },
     color: {
       default: {
-        value: ["text-foreground-500", "group-data-[has-value=true]:text-foreground"],
+        label: "group-data-[filled=true]:opacity-80",
       },
       primary: {},
       secondary: {},
@@ -454,14 +471,6 @@ const select = tv({
         ],
       },
     },
-    // inside && default
-    {
-      labelPlacement: "inside",
-      color: "default",
-      class: {
-        label: "group-data-[filled=true]:text-foreground-600",
-      },
-    },
     // isInvalid & variant
     {
       isInvalid: true,
@@ -523,15 +532,7 @@ const select = tv({
       isMultiline: false,
       class: {
         base: "group relative justify-end",
-        label: [
-          "pb-0",
-          "z-20",
-          "opacity-60",
-          "top-1/2",
-          "-translate-y-1/2",
-          "group-data-[filled=true]:opacity-100",
-          "group-data-[filled=true]:left-0",
-        ],
+        label: ["pb-0", "z-20", "top-1/2", "-translate-y-1/2", "group-data-[filled=true]:left-0"],
       },
     },
     // labelPlacement=[inside]
@@ -689,6 +690,13 @@ const select = tv({
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]",
       },
     },
+    // text truncate labelPlacement=[inside,outside]
+    {
+      labelPlacement: ["inside", "outside"],
+      class: {
+        label: ["pe-2", "max-w-full", "text-ellipsis", "overflow-hidden"],
+      },
+    },
   ],
 });
 \n- packages/storybook/tailwind.config.js (modified, 60 changes)\n  Patch: @@ -11,5 +11,63 @@ module.exports = {
     "../core/theme/stories/**/*.{js,jsx,ts,tsx}",
   ],
   darkMode: "class",
-  plugins: [nextui()],
+  plugins: [
+    nextui({
+      themes: {
+        // "dark": {
+        //   extend: "dark", // <- inherit default values from dark theme
+        //   colors: {
+        //     background: "#0D001A",
+        //     foreground: "#ffffff",
+        //     content1: "#3B096C",
+        //     content2: "#520F83",
+        //     content3: "#7318A2",
+        //     content4: "#9823C2",
+        //     default: {
+        //       50: "#3B096C",
+        //       100: "#521d86",
+        //       200: "#6423a6",
+        //       300: "#7524cc",
+        //       400: "#8935e8",
+        //       500: "#9f57f5",
+        //       600: "#ba86fa",
+        //       700: "#d4b5fd",
+        //       800: "#e7d6fe",
+        //       900: "#f2e8ff",
+        //       DEFAULT: "#3B096C",
+        //       foreground: "#d4b5fd",
+        //     },
+        //     primary: {
+        //       50: "#3B096C",
+        //       100: "#520F83",
+        //       200: "#7318A2",
+        //       300: "#9823C2",
+        //       400: "#c031e2",
+        //       500: "#DD62ED",
+        //       600: "#F182F6",
+        //       700: "#FCADF9",
+        //       800: "#FDD5F9",
+        //       900: "#FEECFE",
+        //       DEFAULT: "#DD62ED",
+        //       foreground: "#ffffff",
+        //     },
+        //     focus: "#F182F6",
+        //   },
+        //   layout: {
+        //     disabledOpacity: "0.3",
+        //     radius: {
+        //       small: "4px",
+        //       medium: "6px",
+        //       large: "8px",
+        //     },
+        //     borderWidth: {
+        //       small: "1px",
+        //       medium: "2px",
+        //       large: "3px",
+        //     },
+        //   },
+        // },
+      },
+    }),
+  ],
 };\n