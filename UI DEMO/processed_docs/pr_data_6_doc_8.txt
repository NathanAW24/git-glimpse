Pull Request Number: 3658
Title: fix(theme): applied tw nested group 
Base Branch: canary
Head Branch: fix/eng-1199
Author: wingkwong
URL: https://github.com/nextui-org/nextui/pull/3658
State: MERGED
Created At: 2024-08-15T12:10:29Z
Merged At: 2024-09-13T06:06:45Z
Participants: wingkwong, ryo-manba, jrgarciadev

Description:
closes #3544
closes #2324
closes #2959

üìù Description
Applied nested group to components so that styles from other components won't mess up with others.
‚õ≥Ô∏è Current behavior (updates)
let's say there is a switch component inside a table row with select button. clicking select button would also toggle the switch. The reason is that when we click select, data-selected for select will be set to true. However, all group-data-[selected=true]:* in switch component will be applied as well since all components share the same parent group.

  
    
    

    pr3658-before-demo.webm
    
  

  

  


üöÄ New behavior

  
    
    

    pr3658-after-demo.webm
    
  

  

  


üí£ Is this a breaking change (Yes/No):

üìù Additional Information

Summary by CodeRabbit
Summary by CodeRabbit


New Features

Introduced a new table template with toggle functionality for active status, enhancing interactivity.
Enhanced styling for various components including autocomplete, checkbox, date input, date picker, input, radio, select, and toggle to improve clarity and maintainability.



Bug Fixes

Addressed styling issues related to nested groups in the theme framework, ensuring better visual consistency and functionality.



Chores

Updated class naming conventions across multiple components for improved specificity in styling.

Commits:
- fix(theme): apply nested group for checkbox\n- fix(theme): apply nested group for autocomplete\n- fix(theme): apply nested group for select\n- fix(theme): apply nested group for toggle\n- fix(theme): apply nested group for radio\n- fix(theme): apply nested group for input\n- fix(theme): apply nested group for datepicker\n- fix(theme): apply nested group for dateinput\n- chore(changeset): add changeset\n- Merge branch 'canary' into fix/eng-1199\n- chore(changeset): add issue number\n- chore(theme): format code\n- Merge branch 'canary' into fix/eng-1199\n- feat(table): add TableWithSwitch\n

Labels:


Comments:
- linear: <p><a href="https://linear.app/nextui-inc/issue/ENG-1199/[bug]-disabled-checkboxes-in-selectable-table-do-not-behaves-as">ENG-1199 [BUG] - Disabled checkboxes in selectable table do not behaves as expected</a></p>\n- vercel: [vc]: #eIrXjlqzt24XDgD53P6tH6JTrAvr6cJuFfY871BomPE=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJuZXh0dWktZG9jcy12MiIsInJvb3REaXJlY3RvcnkiOiJhcHBzL2RvY3MiLCJsaXZlRmVlZGJhY2siOnsicmVzb2x2ZWQiOjAsInVucmVzb2x2ZWQiOjAsInRvdGFsIjowLCJsaW5rIjoibmV4dHVpLWRvY3MtdjItZ2l0LWZpeC1lbmctMTE5OS1uZXh0dWktb3JnLnZlcmNlbC5hcHAifSwiaW5zcGVjdG9yVXJsIjoiaHR0cHM6Ly92ZXJjZWwuY29tL25leHR1aS1vcmcvbmV4dHVpLWRvY3MtdjIvQkxVWWV6bk11VzJYVGNva0daWmJnd1ZNRW50QSIsInByZXZpZXdVcmwiOiJuZXh0dWktZG9jcy12Mi1naXQtZml4LWVuZy0xMTk5LW5leHR1aS1vcmcudmVyY2VsLmFwcCIsIm5leHRDb21taXRTdGF0dXMiOiJERVBMT1lFRCJ9LHsibmFtZSI6Im5leHR1aS1zdG9yeWJvb2stdjIiLCJyb290RGlyZWN0b3J5IjoicGFja2FnZXMvc3Rvcnlib29rIiwibGl2ZUZlZWRiYWNrIjp7InJlc29sdmVkIjowLCJ1bnJlc29sdmVkIjowLCJ0b3RhbCI6MCwibGluayI6Im5leHR1aS1zdG9yeWJvb2stdjItZ2l0LWZpeC1lbmctMTE5OS1uZXh0dWktb3JnLnZlcmNlbC5hcHAifSwiaW5zcGVjdG9yVXJsIjoiaHR0cHM6Ly92ZXJjZWwuY29tL25leHR1aS1vcmcvbmV4dHVpLXN0b3J5Ym9vay12Mi9EOG9vOFdlbTRKNDNjeHE1NHljc3FjWjRSUkNjIiwicHJldmlld1VybCI6Im5leHR1aS1zdG9yeWJvb2stdjItZ2l0LWZpeC1lbmctMTE5OS1uZXh0dWktb3JnLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiREVQTE9ZRUQifV19
**The latest updates on your projects**. Learn more about [Vercel for Git ‚ÜóÔ∏é](https://vercel.link/github-learn-more)

| Name | Status | Preview | Comments | Updated (UTC) |
| :--- | :----- | :------ | :------- | :------ |
| **nextui-docs-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-docs-v2/BLUYeznMuW2XTcokGZZbgwVMEntA)) | [Visit Preview](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-eng-1199-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-docs-v2-git-fix-eng-1199-nextui-org.vercel.app?via=pr-comment-feedback-link) | Sep 11, 2024 5:01pm |
| **nextui-storybook-v2** | ‚úÖ Ready ([Inspect](https://vercel.com/nextui-org/nextui-storybook-v2/D8oo8Wem4J43cxq54ycsqcZ4RRCc)) | [Visit Preview](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-eng-1199-nextui-org.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | üí¨ [**Add feedback**](https://vercel.live/open-feedback/nextui-storybook-v2-git-fix-eng-1199-nextui-org.vercel.app?via=pr-comment-feedback-link) | Sep 11, 2024 5:01pm |


\n- changeset-bot: ###  ü¶ã  Changeset detected

Latest commit: c7d4a9ca449e1cd3c4ecec8bd585e63acf662d79

**The changes in this PR will be included in the next version bump.**

<details><summary>This PR includes changesets to release 2 packages</summary>

  | Name              | Type  |
| ----------------- | ----- |
| @nextui-org/theme | Patch |
| @nextui-org/react | Patch |

</details>

Not sure what this means? [Click here  to learn what changesets are](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md).

[Click here if you're a maintainer who wants to add another changeset to this PR](https://github.com/nextui-org/nextui/new/fix/eng-1199?filename=.changeset/witty-zebras-chew.md&value=---%0A%22%40nextui-org%2Ftable%22%3A%20patch%0A%22%40nextui-org%2Ftheme%22%3A%20patch%0A---%0A%0Afix(theme)%3A%20applied%20tw%20nested%20group%20%0A)

\n- coderabbitai: <!-- This is an auto-generated comment: summarize by coderabbit.ai -->
<!-- walkthrough_start -->

## Walkthrough

This update introduces a patch for the `@nextui-org/theme` library, specifically addressing issues related to nested groups. The changes enhance the functionality of various components, including `autocomplete`, `checkbox`, `date-input`, `input`, `radio`, `select`, and `toggle`, by improving the specificity of CSS class names. These adjustments aim to streamline the rendering and behavior of nested group elements, ensuring they operate correctly within the broader theme context.

## Changes

| Files Grouped                 | Change Summary                                                                                                                                                  |
|-------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `packages/core/theme/src/components/*.ts` | Modifications to CSS class names to enhance specificity by incorporating component-specific suffixes (e.g., `/autocomplete`, `/checkbox`, `/input`, etc.). No functional changes were made. |
| `packages/components/table/stories/*.tsx` | Introduced a new template component `TableWithSwitchTemplate` that integrates a `Switch` component into a table, enhancing interactivity by allowing status toggling. |

## Sequence Diagram(s)

```mermaid
sequenceDiagram
    participant User
    participant UI
    participant Theme

    User->>UI: Interacts with a component (e.g., Checkbox)
    UI->>Theme: Apply styles based on interaction
    Theme-->>UI: Return updated styles
    UI-->>User: Render component with updated styles
```

## Assessment against linked issues

| Objective                                                                    | Addressed | Explanation                                                    |
|------------------------------------------------------------------------------|-----------|---------------------------------------------------------------|
| Disabled checkboxes behave as expected in selectable tables (3544)          | ‚úÖ        |                                                               |
| Prevent visual activation of custom checkboxes/radio buttons (2324)         | ‚úÖ        |                                                               |
| Prevent switch toggling when selecting a row (2959)                         | ‚úÖ        |                                                               |

## Possibly related PRs

- **#2041**: Enhances RTL support for the select component, potentially connecting to improvements in usability.
- **#3268**: Addresses the import of `HiddenSelect` and `UseSelectProps`, which are relevant to the select component's functionality.
- **#3682**: Adds TypeScript examples for single and multiple selection in the dropdown component, closely related to the select component's functionality.
- **#3726**: Enhances keyboard navigation in the AutocompleteSection, relevant to the select component's interaction model.

## Suggested labels

`üìã Scope : Docs`

<!-- walkthrough_end --><!-- This is an auto-generated comment: raw summary by coderabbit.ai -->

<!--

# Existing changesets

# Existing changesets

# Existing changesets

```
.changeset/clean-teachers-heal.md: ## AI-generated summary of changes

This new file introduces a patch for the `@nextui-org/theme` library, specifically addressing issues related to nested groups as referenced in issues #3544 and #2324. The patch likely includes enhancements or bug fixes that improve the handling of nested group elements within the theme framework. This change aims to refine the visual consistency and functionality of components that utilize nested grouping, ensuring they adhere to the expected design and behavior standards. The control flow introduced by this patch will enhance how themes are applied and rendered, particularly in scenarios where nested structures are involved.

## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/autocomplete.ts: ## AI-generated summary of changes

The changes in the `autocomplete.ts` file primarily involve modifications to the CSS class names within the `autocomplete` component's configuration. The `base` class has been altered from `"group inline-flex flex-column w-full"` to `"group/autocomplete inline-flex flex-column w-full"`, indicating a more specific grouping for the autocomplete functionality. Additionally, the class names associated with the `group-data-[invalid=true]` and `sm:group-data-[hover=true]` selectors have been updated to include the `/autocomplete` suffix, enhancing the specificity of the styles applied under certain conditions. These changes suggest a refinement in the styling logic to better accommodate the autocomplete feature, likely improving its visual behavior in response to user interactions.

## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/checkbox.ts: ## AI-generated summary of changes

The changes in the `checkbox.ts` file primarily involve modifications to the CSS class names used within the `checkbox` component. The alterations enhance the specificity of the styles applied to the checkbox component by incorporating the `/checkbox` suffix in various class definitions. This adjustment ensures that the styles are more accurately targeted to the checkbox's state, such as when selected, hovered, or pressed. 

Key changes include the transformation of class names from a more generic format to a more specific one, which helps in maintaining clarity in the styling logic. For instance, the class `group-data-[selected=true]:after:scale-100` has been updated to `group-data-[selected=true]/checkbox:after:scale-100`, indicating that the scaling effect is now explicitly tied to the checkbox's state. Similar updates are made for hover and pressed states, enhancing the overall control flow of the component's visual feedback.

These changes do not introduce new functionality but refine the existing styling logic to improve the component's responsiveness to user interactions.

## Alterations to the declarations of exported or public entities

- No changes to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/date-input.ts: ## AI-generated summary of changes

The diff introduces modifications to the `dateInput` component's styling definitions within the `date-input.ts` file. The primary change involves the addition of the `/dateinput` suffix to several class names, enhancing specificity in the CSS selectors used for styling various states of the component.

Key alterations include:
- The `base` class has been updated from `"group flex flex-col"` to `"group/dateinput flex flex-col"`.
- The handling of required states has been refined, with changes made to the classes that manage the appearance of required indicators.
- Similar modifications are seen for invalid states, ensuring that the styling is correctly scoped to the date input.

Overall, these changes aim to improve the organization and specificity of the component's styling.

## Alterations to the declarations of exported or public entities

- No changes to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/date-picker.ts: ## AI-generated summary of changes

The diff introduces modifications to the CSS class names associated with the `datePicker` and `dateRangePicker` components in the `date-picker.ts` file. Specifically, the base class for `datePicker` has been changed from `"group w-full"` to `"group/datepicker w-full"`, and the `calendar` slot class for `dateRangePicker` has been updated from `"group"` to `"group/daterangepicker"`.

These changes suggest a refinement in the component's styling approach, likely aimed at improving specificity and clarity in the CSS structure.

## Alterations to the declarations of exported or public entities

- No changes to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/input.ts: ## AI-generated summary of changes

The changes in the `input.ts` file primarily involve modifications to the class names used within the `input` component's styling. The updates introduce a consistent prefix of `/input` to various class names that are conditionally applied based on the state of the input component. This prefixing enhances the specificity of the styles, ensuring that they are correctly applied in the context of the input's state, such as focus, hover, or when certain conditions are met (e.g., having a value or being filled).

For instance, class names like `group-data-[focus=true]:border-default-foreground` have been changed to `group-data-[focus=true]/input:border-default-foreground`, indicating that the styles are now more explicitly tied to the input component's state. This pattern is repeated across multiple class definitions, affecting how the component responds visually to user interactions and its internal state.

The changes also extend to helper classes, error messages, and descriptions, ensuring that all relevant styles are updated to maintain consistency in the component's behavior. Overall, the modifications enhance the clarity and maintainability of the styling logic within the input component, while also potentially improving the visual feedback provided to users.

## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/radio.ts: ## AI-generated summary of changes

The diff introduces modifications to the CSS class names used within the `radio` component in the `radio.ts` file. The primary change involves the addition of the `/radio` suffix to several class names, which appears to enhance the specificity of the styles applied to the radio component in various states. This includes updates to the `base`, `wrapper`, and state-related classes such as `hover-unselected`, `selected`, and `pressed`. 

For instance, the class `group-data-[hover-unselected=true]:bg-default-100` has been changed to `group-data-[hover-unselected=true]/radio:bg-default-100`, indicating a shift towards a more structured naming convention that likely aims to improve the clarity and maintainability of the styles. Similar changes are observed across multiple color states (default, primary, secondary, success, warning, danger) where the `wrapper` class now includes the `/radio` suffix, ensuring that the styles are correctly scoped to the radio component.

Overall, these changes reflect a refinement in the styling approach for the radio component, enhancing its responsiveness to state changes while maintaining a clear association with the component itself.

## Alterations to the declarations of exported or public entities

- No changes to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/select.ts: ## AI-generated summary of changes

The changes in the `select.ts` file primarily involve modifications to the class names within the `select` component's configuration. The updates introduce a new naming convention by appending `/select` to various class names that are conditionally applied based on the state of the component. This alteration enhances the specificity of the styles associated with the select component, particularly in relation to its interaction states such as focus, hover, and filled conditions.

Key changes include the transformation of class names from a generic format to a more specific one, such as changing `group-data-[focus=true]:bg-default-100` to `group-data-[focus=true]/select:bg-default-100`. This pattern is consistently applied across multiple states and variants of the select component, ensuring that the styles are correctly scoped to the select context. The modifications also extend to various color states (e.g., primary, secondary, success, warning, danger) and structural classes (e.g., label, innerWrapper), reinforcing the component's visual integrity during different user interactions.

Overall, the changes improve the clarity and maintainability of the styling logic within the select component, allowing for better customization and responsiveness to user actions.

## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made.

---

packages/core/theme/src/components/toggle.ts: ## AI-generated summary of changes

The changes in the `toggle.ts` file primarily involve modifications to the class names used within the `toggle` component's styling. The updates introduce a new naming convention that prefixes certain class names with `toggle:`. This adjustment enhances the specificity of the styles applied based on the toggle's state, particularly when it is selected or pressed. 

In the `base` slot, the class name has been altered from `group` to `group/toggle`, indicating a more structured approach to styling that likely aims to improve clarity and maintainability. Similar changes are reflected across various states and properties, such as `wrapper` and `thumb`, where the previous class names like `group-data-[selected=true]:bg-default-400` have been transformed to `group-data-[selected=true]/toggle:bg-default-400`. This pattern continues throughout the component, ensuring that all relevant styles are consistently updated to reflect the new naming convention.

The modifications also extend to the handling of different sizes for the toggle component, where the `thumb` class names are updated to include the `toggle:` prefix, ensuring that the styles are appropriately scoped and applied based on the toggle's state. Overall, these changes enhance the component's styling logic, making it more intuitive and potentially reducing conflicts with other components or styles.

The overall functionality of the toggle component remains intact, but the changes improve the clarity and specificity of the CSS classes used, which may facilitate easier debugging and styling in the future.

## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made.
```


# New changesets

.changeset/clean-teachers-heal.md: ## AI-generated summary of changes

This new file introduces a patch for the `@nextui-org/theme` package, specifically addressing issues related to nested groups as indicated by the references to pull requests #3544, #2324, and #2959. The patch likely enhances the functionality of the theme by improving the handling of nested group components, which may involve adjustments to styling, layout, or behavior within the UI framework. The control flow introduced by this patch is expected to streamline the rendering of nested groups, ensuring that they function correctly within the broader theme context. Overall, this change aims to enhance the user experience by providing more robust and visually coherent nested group elements in applications utilizing the `@nextui-org/theme`.



## Alterations to the declarations of exported or public entities

- Added: Patch for `@nextui-org/theme` in `.changeset/clean-teachers-heal.md`


# New changesets

packages/core/theme/src/components/select.ts: ## AI-generated summary of changes

The changes in the `select.ts` file primarily involve modifications to the class names within the `select` component's configuration. The updates introduce a new naming convention by appending `/select` to various class names that are conditionally applied based on the state of the component. This alteration enhances the specificity of the styles associated with the select component, particularly in relation to its interaction states such as focus, hover, and filled conditions.

Key changes include the transformation of class names from a generic format to a more specific one, such as changing `group-data-[focus=true]:bg-default-100` to `group-data-[focus=true]/select:bg-default-100`. This pattern is consistently applied across multiple states and variants of the select component, ensuring that the styles are correctly scoped to the select context. The modifications also extend to various color states (e.g., primary, secondary, success, warning, danger) and structural classes (e.g., label, innerWrapper), reinforcing the component's visual integrity during different user interactions.

Overall, the changes improve the clarity and maintainability of the styling logic within the select component, allowing for better customization and responsiveness to user actions.



## Alterations to the declarations of exported or public entities

- No alterations to the declarations of exported or public entities were made in `packages/core/theme/src/components/select.ts`.


# New changesets

packages/components/table/stories/table.stories.tsx: ## AI-generated summary of changes

The diff introduces a new template component, `TableWithSwitchTemplate`, which integrates a `Switch` component into a table structure. This new template displays a table with four rows, each containing a name, role, and an active status represented by a switch. The `TableWithSwitchTemplate` is designed to enhance the existing table functionality by allowing users to toggle the active status of individuals listed in the table. Additionally, a new export, `TableWithSwitch`, is created to render this template with predefined arguments, including a selection mode set to "multiple". The changes enhance the interactivity of the table component by incorporating toggle functionality directly within the table rows.



## Alterations to the declarations of exported or public entities

- Added: `const TableWithSwitchTemplate = (args: TableProps) => ...` in `packages/components/table/stories/table.stories.tsx`
- Added: `export const TableWithSwitch = { render: TableWithSwitchTemplate, args: { ...defaultProps, selectionMode: "multiple", }, };` in `packages/components/table/stories/table.stories.tsx`

-->

<!-- end of auto-generated comment: raw summary by coderabbit.ai --><!-- This is an auto-generated comment: pr objectives by coderabbit.ai -->

<!--

## PR Summary

The pull request titled "fix(theme): applied tw nested group" addresses styling conflicts among components within the NextUI framework. It resolves issues #3544, #2324, and #2959 by implementing nested groups to prevent styles from one component from affecting another. The primary concern was that components sharing the same parent `group` could unintentionally trigger interactions, such as a switch component toggling when a select button in the same row was clicked. This behavior was due to shared `data-selected` attributes, leading to unexpected results in user interactions. By applying nested groups, the PR ensures that styles and behaviors are isolated, enhancing the functionality of components, especially in complex layouts with multiple interactive elements. The PR does not specify whether these changes are breaking and does not provide a migration path for existing users.

## Objectives from Linked Issues

The linked issues provide context for the changes made in the pull request.

### Issue #3544
This issue reports a bug where disabled checkboxes in a selectable table change state when a table row is clicked, despite being marked as `isDisabled` or `isReadonly`. The expected behavior is that these checkboxes should remain unchangeable. The issue highlights a need for better control over checkbox states within selectable tables.

### Issue #2324
This issue discusses a problem with the "multiple" selection mode in tables, where custom cells containing checkboxes or radio buttons visually activate when the selection mode checkboxes are clicked. Users expect that interactions with selection mode checkboxes should not affect the state of custom input elements in the table. The issue suggests that the documentation should include guidance on using custom cells alongside the multiple selection feature without causing unintended interactions.

### Issue #2959
This issue describes a scenario where a switch component inside a table row is toggled when the row is selected. Users expect that the switch's state should remain unchanged regardless of the row selection. The issue emphasizes the need for better isolation of component behaviors to prevent unintended interactions.

All three issues underscore the necessity for improved component isolation and behavior within the NextUI framework, which the PR aims to address through the implementation of nested groups.

## Comments Summary

In the comments section of the pull request, the primary feedback comes from the user ryo-manba, who requests that the author, wingkwong, resolve conflicts present in the PR. This indicates that there are changes in the base branch that conflict with the modifications made in the pull request, which must be addressed before the PR can be merged.

Wingkwong responds to ryo-manba's request by indicating that the conflicts have been updated and resolved. This exchange highlights the collaborative nature of the development process, where contributors must ensure their changes are compatible with the latest version of the codebase.

Ryo-manba then inquires whether the changes in the pull request will also address another issue, specifically issue #3725. This question suggests that there may be additional concerns related to component interactions that are not directly covered by the current PR but could be relevant to the overall functionality and user experience of the NextUI framework. Wingkwong clarifies that after testing, the changes do not resolve the issue mentioned in #3725, indicating that it is outside the scope of the current PR.

The comments reflect a standard part of the pull request review process, emphasizing the importance of maintaining compatibility with the evolving codebase while implementing necessary fixes and enhancements. The interaction between wingkwong and ryo-manba illustrates the ongoing dialogue that occurs during code reviews, where contributors seek clarification and ensure that all relevant issues are considered in the development process. Overall, the comments indicate a constructive review environment focused on improving the framework's functionality and user experience.

-->

<!-- end of auto-generated comment: pr objectives by coderabbit.ai --><!-- commit_ids_reviewed_start -->

<!-- 3e16e5da8a92584088d30017f56b097f6eb704bf -->
<!-- 62abd1799fa7042e8ef56e403f98298f2e00a9c1 -->
<!-- 6a0cf30d3f8b77b5af75d242d666197ddab8f8ce -->
<!-- 06080dc8cd5a96d8d6a87bda242ad49dfa6098d0 -->
<!-- c7d4a9ca449e1cd3c4ecec8bd585e63acf662d79 -->

<!-- commit_ids_reviewed_end -->

---

<details>
<summary>Recent review details</summary>

**Configuration used: .coderabbit.yaml**
**Review profile: CHILL**

<details>
<summary>Commits</summary>

Files that changed from the base of the PR and between 06080dc8cd5a96d8d6a87bda242ad49dfa6098d0 and c7d4a9ca449e1cd3c4ecec8bd585e63acf662d79.

</details>


<details>
<summary>Files selected for processing (1)</summary>

* packages/components/table/stories/table.stories.tsx (3 hunks)

</details>











<details>
<summary>Additional comments not posted (2)</summary><blockquote>

<details>
<summary>packages/components/table/stories/table.stories.tsx (2)</summary><blockquote>

`155-193`: **LGTM!**

The new `TableWithSwitchTemplate` component looks good. It correctly integrates the `Switch` component into the table structure, allowing users to toggle the active status of individuals listed in the table.

---

`1106-1112`: **LGTM, but verify the export usage.**

The `TableWithSwitch` export looks good. It provides a convenient way to use the `TableWithSwitchTemplate` with predefined arguments.

However, ensure that this export is thoroughly tested to confirm that it behaves as expected and is being used correctly in the codebase.


Run the following script to verify the export usage:

</blockquote></details>

</blockquote></details>

</details><!-- tips_start -->

---

Thank you for using CodeRabbit. We offer it for free to the OSS community and would appreciate your support in helping us grow. If you find it useful, would you consider giving us a shout-out on your favorite social media?

<details>
<summary>Share</summary>

- [X](https://twitter.com/intent/tweet?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A&url=https%3A//coderabbit.ai)
- [Mastodon](https://mastodon.social/share?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A%20https%3A%2F%2Fcoderabbit.ai)
- [Reddit](https://www.reddit.com/submit?title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&text=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code.%20Check%20it%20out%3A%20https%3A//coderabbit.ai)
- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcoderabbit.ai&mini=true&title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&summary=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code)

</details>

<details>
<summary>Tips</summary>

### Chat

There are 3 ways to chat with [CodeRabbit](https://coderabbit.ai):

- Review comments: Directly reply to a review comment made by CodeRabbit. Example:
	- `I pushed a fix in commit <commit_id>.`
	- `Generate unit testing code for this file.`
	- `Open a follow-up GitHub issue for this discussion.`
- Files and specific lines of code (under the "Files changed" tab): Tag `@coderabbitai` in a new review comment at the desired location with your query. Examples:
	- `@coderabbitai generate unit testing code for this file.`
	-	`@coderabbitai modularize this function.`
- PR comments: Tag `@coderabbitai` in a new PR comment to ask questions about the PR branch. For the best results, please provide a very specific query, as very limited context is provided in this mode. Examples:
	- `@coderabbitai generate interesting stats about this repository and render them as a table.`
	- `@coderabbitai show all the console.log statements in this repository.`
	- `@coderabbitai read src/utils.ts and generate unit testing code.`
	- `@coderabbitai read the files in the src/scheduler package and generate a class diagram using mermaid and a README in the markdown format.`
	- `@coderabbitai help me debug CodeRabbit configuration file.`

Note: Be mindful of the bot's finite context window. It's strongly recommended to break down tasks such as reading entire modules into smaller chunks. For a focused discussion, use review comments to chat about specific files and their changes, instead of using the PR comments.

### CodeRabbit Commands (Invoked using PR comments)

- `@coderabbitai pause` to pause the reviews on a PR.
- `@coderabbitai resume` to resume the paused reviews.
- `@coderabbitai review` to trigger an incremental review. This is useful when automatic reviews are disabled for the repository.
- `@coderabbitai full review` to do a full review from scratch and review all the files again.
- `@coderabbitai summary` to regenerate the summary of the PR.
- `@coderabbitai resolve` resolve all the CodeRabbit review comments.
- `@coderabbitai configuration` to show the current CodeRabbit configuration for the repository.
- `@coderabbitai help` to get help.

### Other keywords and placeholders

- Add `@coderabbitai ignore` anywhere in the PR description to prevent this PR from being reviewed.
- Add `@coderabbitai summary` to generate the high-level summary at a specific location in the PR description.
- Add `@coderabbitai` anywhere in the PR title to generate the title automatically.

### Documentation and Community

- Visit our [Documentation](https://coderabbit.ai/docs) for detailed information on how to use CodeRabbit.
- Join our [Discord Community](https://discord.com/invite/GsXnASn26c) to get help, request features, and share feedback.
- Follow us on [X/Twitter](https://twitter.com/coderabbitai) for updates and announcements.

</details>



<!-- tips_end -->\n- ryo-manba: Hey @wingkwong, could you please fix the conflicts?\n- wingkwong: @ryo-manba updated. thanks.\n- ryo-manba: @wingkwong 
Will this issue also be fixed?
- https://github.com/nextui-org/nextui/issues/3725\n- wingkwong: > @wingkwong Will this issue also be fixed?
> 
> * [[BUG] - Table selection - Unintuitive behaviour¬†#3725](https://github.com/nextui-org/nextui/issues/3725)

Just tested with PR docs and still got same result. I don't think it's not related to this PR.\n

Files Changed:
- .changeset/clean-teachers-heal.md (added, 5 changes)\n  Patch: @@ -0,0 +1,5 @@
+---
+"@nextui-org/theme": patch
+---
+
+applied tw nested group (#3544, #2324, #2959)\n- packages/components/table/stories/table.stories.tsx (modified, 49 changes)\n  Patch: @@ -22,6 +22,7 @@ import {
   TableProps,
   getKeyValue,
 } from "../src";
+import {Switch} from "../../switch/src";
 
 export default {
   title: "Components/Table",
@@ -151,6 +152,46 @@ const StaticTemplate = (args: TableProps) => (
   </Table>
 );
 
+const TableWithSwitchTemplate = (args: TableProps) => (
+  <Table aria-label="Table with Switch" {...args}>
+    <TableHeader>
+      <TableColumn>NAME</TableColumn>
+      <TableColumn>ROLE</TableColumn>
+      <TableColumn>ACTIVE</TableColumn>
+    </TableHeader>
+    <TableBody>
+      <TableRow key="1">
+        <TableCell>Tony Reichert</TableCell>
+        <TableCell>CEO</TableCell>
+        <TableCell>
+          <Switch />
+        </TableCell>
+      </TableRow>
+      <TableRow key="2">
+        <TableCell>Zoey Lang</TableCell>
+        <TableCell>Technical Lead</TableCell>
+        <TableCell>
+          <Switch />
+        </TableCell>
+      </TableRow>
+      <TableRow key="3">
+        <TableCell>Jane Fisher</TableCell>
+        <TableCell>Senior Developer</TableCell>
+        <TableCell>
+          <Switch />
+        </TableCell>
+      </TableRow>
+      <TableRow key="4">
+        <TableCell>William Howard</TableCell>
+        <TableCell>Community Manager</TableCell>
+        <TableCell>
+          <Switch />
+        </TableCell>
+      </TableRow>
+    </TableBody>
+  </Table>
+);
+
 const EmptyTemplate = (args: TableProps) => (
   <Table aria-label="Example empty table" {...args}>
     <TableHeader>
@@ -1061,3 +1102,11 @@ export const DisableAnimation = {
     disableAnimation: true,
   },
 };
+
+export const TableWithSwitch = {
+  render: TableWithSwitchTemplate,
+  args: {
+    ...defaultProps,
+    selectionMode: "multiple",
+  },
+};\n- packages/core/theme/src/components/autocomplete.ts (modified, 8 changes)\n  Patch: @@ -4,7 +4,7 @@ import {tv} from "../utils/tv";
 
 const autocomplete = tv({
   slots: {
-    base: "group inline-flex flex-column w-full",
+    base: "group/autocomplete inline-flex flex-column w-full",
     listboxWrapper: "scroll-py-6 max-h-64 w-full",
     listbox: "",
     popoverContent: "w-full p-1 overflow-hidden",
@@ -16,14 +16,14 @@ const autocomplete = tv({
       "opacity-0",
       "pointer-events-none",
       "text-default-500",
-      "group-data-[invalid=true]:text-danger",
+      "group-data-[invalid=true]/autocomplete:text-danger",
       "data-[visible=true]:opacity-100", // on mobile is always visible when there is a value
       "data-[visible=true]:pointer-events-auto",
       "data-[visible=true]:cursor-pointer",
       "sm:data-[visible=true]:opacity-0", // only visible on hover
       "sm:data-[visible=true]:pointer-events-none",
-      "sm:group-data-[hover=true]:data-[visible=true]:opacity-100",
-      "sm:group-data-[hover=true]:data-[visible=true]:pointer-events-auto",
+      "sm:group-data-[hover=true]:data-[visible=true]/autocomplete:opacity-100",
+      "sm:group-data-[hover=true]:data-[visible=true]/autocomplete:pointer-events-auto",
     ],
     selectorButton: "text-medium",
   },\n- packages/core/theme/src/components/checkbox.ts (modified, 16 changes)\n  Patch: @@ -21,7 +21,7 @@ import {groupDataFocusVisibleClasses} from "../utils";
  */
 const checkbox = tv({
   slots: {
-    base: "group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",
+    base: "group/checkbox relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",
     wrapper: [
       "relative",
       "inline-flex",
@@ -44,14 +44,14 @@ const checkbox = tv({
       "after:scale-50",
       "after:opacity-0",
       "after:origin-center",
-      "group-data-[selected=true]:after:scale-100",
-      "group-data-[selected=true]:after:opacity-100",
+      "group-data-[selected=true]/checkbox:after:scale-100",
+      "group-data-[selected=true]/checkbox:after:opacity-100",
       // hover
-      "group-data-[hover=true]:before:bg-default-100",
+      "group-data-[hover=true]/checkbox:before:bg-default-100",
       // focus ring
       ...groupDataFocusVisibleClasses,
     ],
-    icon: "z-10 w-4 h-3 opacity-0 group-data-[selected=true]:opacity-100",
+    icon: "z-10 w-4 h-3 opacity-0 group-data-[selected=true]/checkbox:opacity-100",
     label: "relative text-foreground select-none",
   },
   variants: {
@@ -147,8 +147,8 @@ const checkbox = tv({
           "before:bg-foreground",
           "before:w-0",
           "before:h-0.5",
-          "group-data-[selected=true]:opacity-60",
-          "group-data-[selected=true]:before:w-full",
+          "group-data-[selected=true]/checkbox:opacity-60",
+          "group-data-[selected=true]/checkbox:before:w-full",
         ],
       },
     },
@@ -172,7 +172,7 @@ const checkbox = tv({
       false: {
         wrapper: [
           "before:transition-colors",
-          "group-data-[pressed=true]:scale-95",
+          "group-data-[pressed=true]/checkbox:scale-95",
           "transition-transform",
           "after:transition-transform-opacity",
           "after:!ease-linear",\n- packages/core/theme/src/components/date-input.ts (modified, 33 changes)\n  Patch: @@ -9,13 +9,13 @@ import {tv} from "../utils/tv";
  */
 const dateInput = tv({
   slots: {
-    base: "group flex flex-col",
+    base: "group/dateinput flex flex-col",
     label: [
       "block subpixel-antialiased text-small text-default-600",
       // isRequired=true
-      "group-data-[required=true]:after:content-['*'] group-data-[required=true]:after:text-danger group-data-[required=true]:after:ml-0.5",
+      "group-data-[required=true]/dateinput:after:content-['*'] group-data-[required=true]/dateinput:after:text-danger group-data-[required=true]/dateinput:after:ml-0.5",
       // isInValid=true
-      "group-data-[invalid=true]:text-danger",
+      "group-data-[invalid=true]/dateinput:text-danger",
     ],
     inputWrapper: [
       "relative px-3 gap-3 w-full inline-flex flex-row items-center",
@@ -25,10 +25,10 @@ const dateInput = tv({
     innerWrapper: [
       "flex items-center text-default-400 w-full gap-x-2 h-6",
       // isInValid=true
-      "group-data-[invalid=true]:text-danger",
+      "group-data-[invalid=true]/dateinput:text-danger",
     ], // this wraps the input and the start/end content
     segment: [
-      "group first:-ml-0.5 [&:not(:first-child)]:-ml-1 px-0.5 my-auto box-content tabular-nums text-start",
+      "group/dateinput first:-ml-0.5 [&:not(:first-child)]:-ml-1 px-0.5 my-auto box-content tabular-nums text-start",
       "inline-block outline-none focus:shadow-sm rounded-md",
       "text-foreground-500 data-[editable=true]:text-foreground",
       "data-[editable=true]:data-[placeholder=true]:text-foreground-500",
@@ -37,7 +37,8 @@ const dateInput = tv({
       "data-[invalid=true]:focus:bg-danger-400/50 dark:data-[invalid=true]:focus:bg-danger-400/20",
       "data-[invalid=true]:data-[editable=true]:focus:text-danger",
     ],
-    helperWrapper: "hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",
+    helperWrapper:
+      "hidden group-data-[has-helper=true]/dateinput:flex p-1 relative flex-col gap-1.5",
     description: "text-tiny text-foreground-400",
     errorMessage: "text-tiny text-danger",
   },
@@ -49,9 +50,9 @@ const dateInput = tv({
           "hover:bg-default-200",
           "focus-within:hover:bg-default-100",
           // isInvalid=true
-          "group-data-[invalid=true]:bg-danger-50",
-          "group-data-[invalid=true]:hover:bg-danger-100",
-          "group-data-[invalid=true]:focus-within:hover:bg-danger-50",
+          "group-data-[invalid=true]/dateinput:bg-danger-50",
+          "group-data-[invalid=true]/dateinput:hover:bg-danger-100",
+          "group-data-[invalid=true]/dateinput:focus-within:hover:bg-danger-50",
         ],
       },
       faded: {
@@ -61,9 +62,9 @@ const dateInput = tv({
           "border-default-200",
           "hover:border-default-400",
           // isInvalid=true
-          "group-data-[invalid=true]:bg-danger-50",
-          "group-data-[invalid=true]:hover:bg-danger-100",
-          "group-data-[invalid=true]:focus-within:hover:bg-danger-50",
+          "group-data-[invalid=true]/dateinput:bg-danger-50",
+          "group-data-[invalid=true]/dateinput:hover:bg-danger-100",
+          "group-data-[invalid=true]/dateinput:focus-within:hover:bg-danger-50",
         ],
       },
       bordered: {
@@ -74,9 +75,9 @@ const dateInput = tv({
           "focus-within:border-default-foreground",
           "focus-within:hover:border-default-foreground",
           // isInvalid=true
-          "group-data-[invalid=true]:border-danger",
-          "group-data-[invalid=true]:hover:border-danger",
-          "group-data-[invalid=true]:focus-within:hover:border-danger",
+          "group-data-[invalid=true]/dateinput:border-danger",
+          "group-data-[invalid=true]/dateinput:hover:border-danger",
+          "group-data-[invalid=true]/dateinput:focus-within:hover:border-danger",
         ],
       },
       underlined: {
@@ -102,7 +103,7 @@ const dateInput = tv({
           "after:h-[2px]",
           "focus-within:after:w-full",
           // isInvalid=true
-          "group-data-[invalid=true]:after:bg-danger",
+          "group-data-[invalid=true]/dateinput:after:bg-danger",
         ],
       },
     },\n- packages/core/theme/src/components/date-picker.ts (modified, 7 changes)\n  Patch: @@ -9,7 +9,7 @@ import {tv} from "../utils/tv";
  */
 const datePicker = tv({
   slots: {
-    base: "group w-full",
+    base: "group/datepicker w-full",
     selectorButton: "-mr-2 text-inherit",
     selectorIcon: "text-lg text-inherit pointer-events-none flex-shrink-0",
     popoverContent: "p-0 w-full",
@@ -23,9 +23,10 @@ const datePicker = tv({
 const dateRangePicker = tv({
   extend: datePicker,
   slots: {
-    calendar: "group",
+    calendar: "group/daterangepicker",
     bottomContent: "flex flex-col gap-y-2",
-    timeInputWrapper: "flex flex-col group-data-[has-multiple-months=true]:flex-row",
+    timeInputWrapper:
+      "flex flex-col group-data-[has-multiple-months=true]/daterangepicker:flex-row",
     separator: "-mx-1 text-inherit",
   },
 });\n- packages/core/theme/src/components/input.ts (modified, 88 changes)\n  Patch: @@ -23,7 +23,7 @@ import {dataFocusVisibleClasses, groupDataFocusVisibleClasses} from "../utils";
  */
 const input = tv({
   slots: {
-    base: "group flex flex-col data-[hidden=true]:hidden",
+    base: "group/input flex flex-col data-[hidden=true]:hidden",
     label: [
       "absolute",
       "z-10",
@@ -65,7 +65,7 @@ const input = tv({
       // focus ring
       ...dataFocusVisibleClasses,
     ],
-    helperWrapper: "hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",
+    helperWrapper: "hidden group-data-[has-helper=true]/input:flex p-1 relative flex-col gap-1.5",
     description: "text-tiny text-foreground-400",
     errorMessage: "text-tiny text-danger",
   },
@@ -75,7 +75,7 @@ const input = tv({
         inputWrapper: [
           "bg-default-100",
           "data-[hover=true]:bg-default-200",
-          "group-data-[focus=true]:bg-default-100",
+          "group-data-[focus=true]/input:bg-default-100",
         ],
       },
       faded: {
@@ -85,14 +85,14 @@ const input = tv({
           "border-default-200",
           "data-[hover=true]:border-default-400",
         ],
-        value: "group-data-[has-value=true]:text-default-foreground",
+        value: "group-data-[has-value=true]/input:text-default-foreground",
       },
       bordered: {
         inputWrapper: [
           "border-medium",
           "border-default-200",
           "data-[hover=true]:border-default-400",
-          "group-data-[focus=true]:border-default-foreground",
+          "group-data-[focus=true]/input:border-default-foreground",
         ],
       },
       underlined: {
@@ -116,10 +116,10 @@ const input = tv({
           "after:-translate-x-1/2",
           "after:-bottom-[2px]",
           "after:h-[2px]",
-          "group-data-[focus=true]:after:w-full",
+          "group-data-[focus=true]/input:after:w-full",
         ],
         innerWrapper: "pb-1",
-        label: "group-data-[filled-within=true]:text-foreground",
+        label: "group-data-[filled-within=true]/input:text-foreground",
       },
     },
     color: {
@@ -178,7 +178,7 @@ const input = tv({
       inside: {
         label: "text-tiny cursor-text",
         inputWrapper: "flex-col items-start justify-center gap-0",
-        innerWrapper: "group-data-[has-label=true]:items-end",
+        innerWrapper: "group-data-[has-label=true]/input:items-end",
       },
     },
     fullWidth: {
@@ -215,7 +215,7 @@ const input = tv({
       true: {
         label: "relative",
         inputWrapper: "!h-auto",
-        innerWrapper: "items-start group-data-[has-label=true]:items-start",
+        innerWrapper: "items-start group-data-[has-label=true]/input:items-start",
         input: "resize-none data-[hide-scroll=true]:scrollbar-hide",
       },
     },
@@ -253,7 +253,7 @@ const input = tv({
       variant: "flat",
       color: "default",
       class: {
-        input: "group-data-[has-value=true]:text-default-foreground",
+        input: "group-data-[has-value=true]/input:text-default-foreground",
       },
     },
     {
@@ -264,7 +264,7 @@ const input = tv({
           "bg-primary-50",
           "data-[hover=true]:bg-primary-100",
           "text-primary",
-          "group-data-[focus=true]:bg-primary-50",
+          "group-data-[focus=true]/input:bg-primary-50",
           "placeholder:text-primary",
         ],
         input: "placeholder:text-primary",
@@ -279,7 +279,7 @@ const input = tv({
           "bg-secondary-50",
           "text-secondary",
           "data-[hover=true]:bg-secondary-100",
-          "group-data-[focus=true]:bg-secondary-50",
+          "group-data-[focus=true]/input:bg-secondary-50",
           "placeholder:text-secondary",
         ],
         input: "placeholder:text-secondary",
@@ -297,7 +297,7 @@ const input = tv({
           "placeholder:text-success-600",
           "dark:placeholder:text-success",
           "data-[hover=true]:bg-success-100",
-          "group-data-[focus=true]:bg-success-50",
+          "group-data-[focus=true]/input:bg-success-50",
         ],
         input: "placeholder:text-success-600 dark:placeholder:text-success",
         label: "text-success-600 dark:text-success",
@@ -314,7 +314,7 @@ const input = tv({
           "placeholder:text-warning-600",
           "dark:placeholder:text-warning",
           "data-[hover=true]:bg-warning-100",
-          "group-data-[focus=true]:bg-warning-50",
+          "group-data-[focus=true]/input:bg-warning-50",
         ],
         input: "placeholder:text-warning-600 dark:placeholder:text-warning",
         label: "text-warning-600 dark:text-warning",
@@ -331,7 +331,7 @@ const input = tv({
           "placeholder:text-danger",
           "dark:placeholder:text-danger-500",
           "data-[hover=true]:bg-danger-100",
-          "group-data-[focus=true]:bg-danger-50",
+          "group-data-[focus=true]/input:bg-danger-50",
         ],
         input: "placeholder:text-danger dark:placeholder:text-danger-500",
         label: "text-danger dark:text-danger-500",
@@ -383,7 +383,7 @@ const input = tv({
       variant: "underlined",
       color: "default",
       class: {
-        input: "group-data-[has-value=true]:text-foreground",
+        input: "group-data-[has-value=true]/input:text-foreground",
       },
     },
     {
@@ -431,39 +431,39 @@ const input = tv({
       variant: "bordered",
       color: "primary",
       class: {
-        inputWrapper: "group-data-[focus=true]:border-primary",
+        inputWrapper: "group-data-[focus=true]/input:border-primary",
         label: "text-primary",
       },
     },
     {
       variant: "bordered",
       color: "secondary",
       class: {
-        inputWrapper: "group-data-[focus=true]:border-secondary",
+        inputWrapper: "group-data-[focus=true]/input:border-secondary",
         label: "text-secondary",
       },
     },
     {
       variant: "bordered",
       color: "success",
       class: {
-        inputWrapper: "group-data-[focus=true]:border-success",
+        inputWrapper: "group-data-[focus=true]/input:border-success",
         label: "text-success",
       },
     },
     {
       variant: "bordered",
       color: "warning",
       class: {
-        inputWrapper: "group-data-[focus=true]:border-warning",
+        inputWrapper: "group-data-[focus=true]/input:border-warning",
         label: "text-warning",
       },
     },
     {
       variant: "bordered",
       color: "danger",
       class: {
-        inputWrapper: "group-data-[focus=true]:border-danger",
+        inputWrapper: "group-data-[focus=true]/input:border-danger",
         label: "text-danger",
       },
     },
@@ -472,15 +472,15 @@ const input = tv({
       labelPlacement: "inside",
       color: "default",
       class: {
-        label: "group-data-[filled-within=true]:text-default-600",
+        label: "group-data-[filled-within=true]/input:text-default-600",
       },
     },
     // labelPlacement=outside & default
     {
       labelPlacement: "outside",
       color: "default",
       class: {
-        label: "group-data-[filled-within=true]:text-foreground",
+        label: "group-data-[filled-within=true]/input:text-foreground",
       },
     },
     // radius-full & size
@@ -538,15 +538,15 @@ const input = tv({
         inputWrapper: [
           "!bg-danger-50",
           "data-[hover=true]:!bg-danger-100",
-          "group-data-[focus=true]:!bg-danger-50",
+          "group-data-[focus=true]/input:!bg-danger-50",
         ],
       },
     },
     {
       isInvalid: true,
       variant: "bordered",
       class: {
-        inputWrapper: "!border-danger group-data-[focus=true]:!border-danger",
+        inputWrapper: "!border-danger group-data-[focus=true]/input:!border-danger",
       },
     },
     {
@@ -592,29 +592,29 @@ const input = tv({
     {
       labelPlacement: ["inside", "outside"],
       class: {
-        label: ["group-data-[filled-within=true]:pointer-events-auto"],
+        label: ["group-data-[filled-within=true]/input:pointer-events-auto"],
       },
     },
     // labelPlacement=[outside] & isMultiline
     {
       labelPlacement: "outside",
       isMultiline: false,
       class: {
-        base: "group relative justify-end",
+        base: "relative justify-end",
         label: [
           "pb-0",
           "z-20",
           "top-1/2",
           "-translate-y-1/2",
-          "group-data-[filled-within=true]:start-0",
+          "group-data-[filled-within=true]/input:start-0",
         ],
       },
     },
     // labelPlacement=[inside]
     {
       labelPlacement: ["inside"],
       class: {
-        label: ["group-data-[filled-within=true]:scale-85"],
+        label: ["group-data-[filled-within=true]/input:scale-85"],
       },
     },
     // labelPlacement=[inside] & variant=flat
@@ -654,7 +654,7 @@ const input = tv({
       size: "sm",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]",
         ],
       },
     },
@@ -664,7 +664,7 @@ const input = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]",
         ],
       },
     },
@@ -675,7 +675,7 @@ const input = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]",
         ],
       },
     },
@@ -687,7 +687,7 @@ const input = tv({
       size: "sm",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -698,7 +698,7 @@ const input = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -710,7 +710,7 @@ const input = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -722,7 +722,7 @@ const input = tv({
       size: "sm",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]",
         ],
       },
     },
@@ -733,7 +733,7 @@ const input = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]",
         ],
       },
     },
@@ -745,7 +745,7 @@ const input = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]",
         ],
       },
     },
@@ -758,7 +758,7 @@ const input = tv({
         label: [
           "start-2",
           "text-tiny",
-          "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]",
       },
@@ -772,7 +772,7 @@ const input = tv({
           "start-3",
           "end-auto",
           "text-small",
-          "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]",
       },
@@ -786,7 +786,7 @@ const input = tv({
           "start-3",
           "end-auto",
           "text-medium",
-          "group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]",
+          "group-data-[filled-within=true]/input:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]",
       },
@@ -796,21 +796,21 @@ const input = tv({
       labelPlacement: "outside-left",
       size: "sm",
       class: {
-        label: "group-data-[has-helper=true]:pt-2",
+        label: "group-data-[has-helper=true]/input:pt-2",
       },
     },
     {
       labelPlacement: "outside-left",
       size: "md",
       class: {
-        label: "group-data-[has-helper=true]:pt-3",
+        label: "group-data-[has-helper=true]/input:pt-3",
       },
     },
     {
       labelPlacement: "outside-left",
       size: "lg",
       class: {
-        label: "group-data-[has-helper=true]:pt-4",
+        label: "group-data-[has-helper=true]/input:pt-4",
       },
     },
     // labelPlacement=[outside, outside-left] & isMultiline\n- packages/core/theme/src/components/radio.ts (modified, 24 changes)\n  Patch: @@ -27,7 +27,7 @@ import {groupDataFocusVisibleClasses} from "../utils";
  */
 const radio = tv({
   slots: {
-    base: "group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",
+    base: "group/radio relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",
     wrapper: [
       "relative",
       "inline-flex",
@@ -40,7 +40,7 @@ const radio = tv({
       "box-border",
       "border-default",
       "rounded-full",
-      "group-data-[hover-unselected=true]:bg-default-100",
+      "group-data-[hover-unselected=true]/radio:bg-default-100",
       // focus ring
       ...groupDataFocusVisibleClasses,
     ],
@@ -53,8 +53,8 @@ const radio = tv({
       "scale-0",
       "origin-center",
       "rounded-full",
-      "group-data-[selected=true]:opacity-100",
-      "group-data-[selected=true]:scale-100",
+      "group-data-[selected=true]/radio:opacity-100",
+      "group-data-[selected=true]/radio:scale-100",
     ],
     label: "relative text-foreground select-none",
     description: "relative text-foreground-400",
@@ -63,27 +63,27 @@ const radio = tv({
     color: {
       default: {
         control: "bg-default-500 text-default-foreground",
-        wrapper: "group-data-[selected=true]:border-default-500",
+        wrapper: "group-data-[selected=true]/radio:border-default-500",
       },
       primary: {
         control: "bg-primary text-primary-foreground",
-        wrapper: "group-data-[selected=true]:border-primary",
+        wrapper: "group-data-[selected=true]/radio:border-primary",
       },
       secondary: {
         control: "bg-secondary text-secondary-foreground",
-        wrapper: "group-data-[selected=true]:border-secondary",
+        wrapper: "group-data-[selected=true]/radio:border-secondary",
       },
       success: {
         control: "bg-success text-success-foreground",
-        wrapper: "group-data-[selected=true]:border-success",
+        wrapper: "group-data-[selected=true]/radio:border-success",
       },
       warning: {
         control: "bg-warning text-warning-foreground",
-        wrapper: "group-data-[selected=true]:border-warning",
+        wrapper: "group-data-[selected=true]/radio:border-warning",
       },
       danger: {
         control: "bg-danger text-danger-foreground",
-        wrapper: "group-data-[selected=true]:border-danger",
+        wrapper: "group-data-[selected=true]/radio:border-danger",
       },
     },
     size: {
@@ -117,7 +117,7 @@ const radio = tv({
     isInvalid: {
       true: {
         control: "bg-danger text-danger-foreground",
-        wrapper: "border-danger group-data-[selected=true]:border-danger",
+        wrapper: "border-danger group-data-[selected=true]/radio:border-danger",
         label: "text-danger",
         description: "text-danger-300",
       },
@@ -126,7 +126,7 @@ const radio = tv({
       true: {},
       false: {
         wrapper: [
-          "group-data-[pressed=true]:scale-95",
+          "group-data-[pressed=true]/radio:scale-95",
           "transition-transform-colors",
           "motion-reduce:transition-none",
         ],\n- packages/core/theme/src/components/select.ts (modified, 74 changes)\n  Patch: @@ -5,7 +5,7 @@ import {tv} from "../utils/tv";
 
 const select = tv({
   slots: {
-    base: ["group inline-flex flex-col relative w-full"],
+    base: ["group/select inline-flex flex-col relative w-full"],
     label: [
       "block",
       "absolute",
@@ -38,7 +38,7 @@ const select = tv({
         trigger: [
           "bg-default-100",
           "data-[hover=true]:bg-default-200",
-          "group-data-[focus=true]:bg-default-100",
+          "group-data-[focus=true]/select:bg-default-100",
         ],
       },
       faded: {
@@ -49,7 +49,7 @@ const select = tv({
           "border-default-200",
           "data-[hover=true]:border-default-400",
         ],
-        value: "group-data-[has-value=true]:text-default-foreground",
+        value: "group-data-[has-value=true]/select:text-default-foreground",
       },
       bordered: {
         trigger: [
@@ -86,7 +86,7 @@ const select = tv({
           "data-[open=true]:after:w-full",
           "data-[focus=true]:after:w-full",
         ],
-        value: "group-data-[has-value=true]:text-default-foreground",
+        value: "group-data-[has-value=true]/select:text-default-foreground",
       },
     },
     color: {
@@ -218,7 +218,7 @@ const select = tv({
       variant: "flat",
       color: "default",
       class: {
-        value: "group-data-[has-value=true]:text-default-foreground",
+        value: "group-data-[has-value=true]/select:text-default-foreground",
         trigger: ["bg-default-100", "data-[hover=true]:bg-default-50"],
       },
     },
@@ -230,7 +230,7 @@ const select = tv({
           "bg-primary-100",
           "text-primary",
           "data-[hover=true]:bg-primary-50",
-          "group-data-[focus=true]:bg-primary-50",
+          "group-data-[focus=true]/select:bg-primary-50",
         ],
         value: "text-primary",
         label: "text-primary",
@@ -244,7 +244,7 @@ const select = tv({
           "bg-secondary-100",
           "text-secondary",
           "data-[hover=true]:bg-secondary-50",
-          "group-data-[focus=true]:bg-secondary-50",
+          "group-data-[focus=true]/select:bg-secondary-50",
         ],
         value: "text-secondary",
         label: "text-secondary",
@@ -259,7 +259,7 @@ const select = tv({
           "text-success-600",
           "dark:text-success",
           "data-[hover=true]:bg-success-50",
-          "group-data-[focus=true]:bg-success-50",
+          "group-data-[focus=true]/select:bg-success-50",
         ],
         value: "text-success-600 dark:text-success",
         label: "text-success-600 dark:text-success",
@@ -274,7 +274,7 @@ const select = tv({
           "text-warning-600",
           "dark:text-warning",
           "data-[hover=true]:bg-warning-50",
-          "group-data-[focus=true]:bg-warning-50",
+          "group-data-[focus=true]/select:bg-warning-50",
         ],
         value: "text-warning-600 dark:text-warning",
         label: "text-warning-600 dark:text-warning",
@@ -289,7 +289,7 @@ const select = tv({
           "text-danger",
           "dark:text-danger-500",
           "data-[hover=true]:bg-danger-50",
-          "group-data-[focus=true]:bg-danger-50",
+          "group-data-[focus=true]/select:bg-danger-50",
         ],
         value: "text-danger dark:text-danger-500",
         label: "text-danger dark:text-danger-500",
@@ -342,7 +342,7 @@ const select = tv({
       variant: "underlined",
       color: "default",
       class: {
-        value: "group-data-[has-value=true]:text-foreground",
+        value: "group-data-[has-value=true]/select:text-foreground",
       },
     },
     {
@@ -431,15 +431,15 @@ const select = tv({
       labelPlacement: "inside",
       color: "default",
       class: {
-        label: "group-data-[filled=true]:text-default-600",
+        label: "group-data-[filled=true]/select:text-default-600",
       },
     },
     // labelPlacement=outside & default
     {
       labelPlacement: "outside",
       color: "default",
       class: {
-        label: "group-data-[filled=true]:text-foreground",
+        label: "group-data-[filled=true]/select:text-foreground",
       },
     },
     // radius-full & size
@@ -497,15 +497,15 @@ const select = tv({
         trigger: [
           "bg-danger-50",
           "data-[hover=true]:bg-danger-100",
-          "group-data-[focus=true]:bg-danger-50",
+          "group-data-[focus=true]/select:bg-danger-50",
         ],
       },
     },
     {
       isInvalid: true,
       variant: "bordered",
       class: {
-        trigger: "!border-danger group-data-[focus=true]:border-danger",
+        trigger: "!border-danger group-data-[focus=true]/select:border-danger",
       },
     },
     {
@@ -543,14 +543,20 @@ const select = tv({
       isMultiline: false,
       class: {
         base: "group relative justify-end",
-        label: ["pb-0", "z-20", "top-1/2", "-translate-y-1/2", "group-data-[filled=true]:start-0"],
+        label: [
+          "pb-0",
+          "z-20",
+          "top-1/2",
+          "-translate-y-1/2",
+          "group-data-[filled=true]/select:start-0",
+        ],
       },
     },
     // labelPlacement=[inside]
     {
       labelPlacement: ["inside"],
       class: {
-        label: "group-data-[filled=true]:scale-85",
+        label: "group-data-[filled=true]/select:scale-85",
       },
     },
     // inside & size
@@ -566,8 +572,10 @@ const select = tv({
       isMultiline: false,
       size: "sm",
       class: {
-        label: ["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"],
-        innerWrapper: "group-data-[has-label=true]:pt-4",
+        label: [
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]",
+        ],
+        innerWrapper: "group-data-[has-label=true]/select:pt-4",
       },
     },
     {
@@ -576,9 +584,9 @@ const select = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]",
         ],
-        innerWrapper: "group-data-[has-label=true]:pt-4",
+        innerWrapper: "group-data-[has-label=true]/select:pt-4",
       },
     },
     {
@@ -588,9 +596,9 @@ const select = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]",
         ],
-        innerWrapper: "group-data-[has-label=true]:pt-5",
+        innerWrapper: "group-data-[has-label=true]/select:pt-5",
       },
     },
     // inside & size & [faded, bordered]
@@ -601,7 +609,7 @@ const select = tv({
       size: "sm",
       class: {
         label: [
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -612,7 +620,7 @@ const select = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -624,7 +632,7 @@ const select = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]",
         ],
       },
     },
@@ -635,7 +643,9 @@ const select = tv({
       isMultiline: false,
       size: "sm",
       class: {
-        label: ["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"],
+        label: [
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]",
+        ],
       },
     },
     {
@@ -645,7 +655,7 @@ const select = tv({
       size: "md",
       class: {
         label: [
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]",
         ],
       },
     },
@@ -657,7 +667,7 @@ const select = tv({
       class: {
         label: [
           "text-medium",
-          "group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]",
         ],
       },
     },
@@ -670,7 +680,7 @@ const select = tv({
         label: [
           "start-2",
           "text-tiny",
-          "group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]",
       },
@@ -683,7 +693,7 @@ const select = tv({
         label: [
           "start-3",
           "text-small",
-          "group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]",
       },
@@ -696,7 +706,7 @@ const select = tv({
         label: [
           "start-3",
           "text-medium",
-          "group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]",
+          "group-data-[filled=true]/select:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]",
         ],
         base: "data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]",
       },\n- packages/core/theme/src/components/toggle.ts (modified, 53 changes)\n  Patch: @@ -30,7 +30,7 @@ import {groupDataFocusVisibleClasses} from "../utils";
  */
 const toggle = tv({
   slots: {
-    base: "group relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",
+    base: "group/toggle relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",
     wrapper: [
       "px-1",
       "relative",
@@ -63,37 +63,37 @@ const toggle = tv({
     color: {
       default: {
         wrapper: [
-          "group-data-[selected=true]:bg-default-400",
-          "group-data-[selected=true]:text-default-foreground",
+          "group-data-[selected=true]/toggle:bg-default-400",
+          "group-data-[selected=true]/toggle:text-default-foreground",
         ],
       },
       primary: {
         wrapper: [
-          "group-data-[selected=true]:bg-primary",
-          "group-data-[selected=true]:text-primary-foreground",
+          "group-data-[selected=true]/toggle:bg-primary",
+          "group-data-[selected=true]/toggle:text-primary-foreground",
         ],
       },
       secondary: {
         wrapper: [
-          "group-data-[selected=true]:bg-secondary",
-          "group-data-[selected=true]:text-secondary-foreground",
+          "group-data-[selected=true]/toggle:bg-secondary",
+          "group-data-[selected=true]/toggle:text-secondary-foreground",
         ],
       },
       success: {
         wrapper: [
-          "group-data-[selected=true]:bg-success",
-          "group-data-[selected=true]:text-success-foreground",
+          "group-data-[selected=true]/toggle:bg-success",
+          "group-data-[selected=true]/toggle:text-success-foreground",
         ],
       },
       warning: {
         wrapper: [
-          "group-data-[selected=true]:bg-warning",
-          "group-data-[selected=true]:text-warning-foreground",
+          "group-data-[selected=true]/toggle:bg-warning",
+          "group-data-[selected=true]/toggle:text-warning-foreground",
         ],
       },
       danger: {
         wrapper: [
-          "group-data-[selected=true]:bg-danger",
+          "group-data-[selected=true]/toggle:bg-danger",
           "data-[selected=true]:text-danger-foreground",
         ],
       },
@@ -104,7 +104,7 @@ const toggle = tv({
         thumb: [
           "w-4 h-4 text-tiny",
           //selected
-          "group-data-[selected=true]:ml-4 rtl:group-data-[selected=true]:ml-0 rtl:group-data-[selected=true]:mr-4",
+          "group-data-[selected=true]/toggle:ml-4 rtl:group-data-[selected=true]/toggle:ml-0 rtl:group-data-[selected=true]/toggle:mr-4",
         ],
         endContent: "text-tiny",
         startContent: "text-tiny",
@@ -115,7 +115,7 @@ const toggle = tv({
         thumb: [
           "w-5 h-5 text-small",
           //selected
-          "group-data-[selected=true]:ml-5 rtl:group-data-[selected=true]:ml-0 rtl:group-data-[selected=true]:mr-5",
+          "group-data-[selected=true]/toggle:ml-5 rtl:group-data-[selected=true]/toggle:ml-0 rtl:group-data-[selected=true]/toggle:mr-5",
         ],
         endContent: "text-small",
         startContent: "text-small",
@@ -126,7 +126,7 @@ const toggle = tv({
         thumb: [
           "w-6 h-6 text-medium",
           //selected
-          "group-data-[selected=true]:ml-6 rtl:group-data-[selected=true]:ml-0 rtl:group-data-[selected=true]:mr-6",
+          "group-data-[selected=true]/toggle:ml-6 rtl:group-data-[selected=true]/toggle:ml-0 rtl:group-data-[selected=true]/toggle:mr-6",
         ],
         endContent: "text-medium",
         startContent: "text-medium",
@@ -150,14 +150,14 @@ const toggle = tv({
           "opacity-0",
           "scale-50",
           "transition-transform-opacity",
-          "group-data-[selected=true]:scale-100",
-          "group-data-[selected=true]:opacity-100",
+          "group-data-[selected=true]/toggle:scale-100",
+          "group-data-[selected=true]/toggle:opacity-100",
         ],
         endContent: [
           "opacity-100",
           "transition-transform-opacity",
-          "group-data-[selected=true]:translate-x-3",
-          "group-data-[selected=true]:opacity-0",
+          "group-data-[selected=true]/toggle:translate-x-3",
+          "group-data-[selected=true]/toggle:opacity-0",
         ],
       },
     },
@@ -172,21 +172,30 @@ const toggle = tv({
       disableAnimation: false,
       size: "sm",
       class: {
-        thumb: ["group-data-[pressed=true]:w-5", "group-data-[selected]:group-data-[pressed]:ml-3"],
+        thumb: [
+          "group-data-[pressed=true]/toggle:w-5",
+          "group-data-[selected]/toggle:group-data-[pressed]/toggle:ml-3",
+        ],
       },
     },
     {
       disableAnimation: false,
       size: "md",
       class: {
-        thumb: ["group-data-[pressed=true]:w-6", "group-data-[selected]:group-data-[pressed]:ml-4"],
+        thumb: [
+          "group-data-[pressed=true]/toggle:w-6",
+          "group-data-[selected]/toggle:group-data-[pressed]/toggle:ml-4",
+        ],
       },
     },
     {
       disableAnimation: false,
       size: "lg",
       class: {
-        thumb: ["group-data-[pressed=true]:w-7", "group-data-[selected]:group-data-[pressed]:ml-5"],
+        thumb: [
+          "group-data-[pressed=true]/toggle:w-7",
+          "group-data-[selected]/toggle:group-data-[pressed]/toggle:ml-5",
+        ],
       },
     },
   ],\n